/*!
 * v0.21.11 (c) 2021
 *
 * Includes:
 * - https://www.npmjs.com/package/bowser
 * - https://www.npmjs.com/package/delay
 * - https://www.npmjs.com/package/es6-error
 * - https://www.npmjs.com/package/eventemitter3
 * - https://www.npmjs.com/package/json-stringify-safe
 * - https://www.npmjs.com/package/p-defer
 * - https://www.npmjs.com/package/p-finally
 * - https://www.npmjs.com/package/promise-queue
 * - https://www.npmjs.com/package/protochain
 * - https://www.npmjs.com/package/unfetch
 * - https://www.npmjs.com/package/upper-case-first
 */
!function(){Function.prototype.$asyncbind=function t(e,n){"use strict";function r(){return i.apply(e,arguments)}Function.prototype.$asyncbind||Object.defineProperty(Function.prototype,"$asyncbind",{value:t,enumerable:!1,configurable:!0,writable:!0}),t.trampoline||(t.trampoline=function(t,e,n,r,i){return function o(s){for(;s;){if(s.then)return s=s.then(o,r),i?void 0:s;try{if(s.pop){if(s.length)return s.pop()?e.call(t):s;s=n}else s=s.call(t)}catch(t){return r(t)}}}}),t.LazyThenable||(t.LazyThenable=function(){function t(t){return t&&t instanceof Object&&"function"==typeof t.then}function e(n,r,i){try{var o=i?i(r):r;if(n===o)return n.reject(new TypeError("Promise resolution loop"));t(o)?o.then((function(t){e(n,t)}),(function(t){n.reject(t)})):n.resolve(o)}catch(t){n.reject(t)}}function n(t){}function r(){}function i(n,i){var o=new r;try{this._resolver((function(r){return t(r)?r.then(n,i):e(o,r,n)}),(function(t){e(o,t,i)}))}catch(t){e(o,t,i)}return o}function o(t){this._resolver=t,this.then=i}return r.prototype={resolve:n,reject:n,then:function(t,e){this.resolve=t,this.reject=e}},o.resolve=function(t){return o.isThenable(t)?t:{then:function(e){return e(t)}}},o.isThenable=t,o}(),t.EagerThenable=t.Thenable=(t.EagerThenableFactory=function(t){t=t||"object"==typeof process&&process.nextTick||"function"==typeof setImmediate&&setImmediate||function(t){setTimeout(t,0)};var e=function(){var e=[],n=0;function r(){for(;e.length-n;){try{e[n]()}catch(t){}e[n++]=void 0,1024===n&&(e.splice(0,1024),n=0)}}return function(i){e.push(i),e.length-n==1&&t(r)}}();function n(t){if(t){var e=this;t((function(t){e.resolve(t)}),(function(t){e.reject(t)}))}}function r(t,e){if("function"==typeof t.y)try{var n=t.y.call(void 0,e);t.p.resolve(n)}catch(e){t.p.reject(e)}else t.p.resolve(e)}function i(t,e){if("function"==typeof t.n)try{var n=t.n.call(void 0,e);t.p.resolve(n)}catch(e){t.p.reject(e)}else t.p.reject(e)}return n.prototype={resolve:function(t){if(void 0===this.state){if(t===this)return this.reject(new TypeError("Attempt to resolve promise with self"));var n=this;if(t&&("function"==typeof t||"object"==typeof t))try{var i=0,o=t.then;if("function"==typeof o)return void o.call(t,(function(t){i++||n.resolve(t)}),(function(t){i++||n.reject(t)}))}catch(t){return void(i||this.reject(t))}this.state=r,this.v=t,n.c&&e((function(){for(var e=0,i=n.c.length;e<i;e++)r(n.c[e],t)}))}},reject:function(t){if(void 0===this.state){this.state=i,this.v=t;var n=this.c;n&&e((function(){for(var e=0,r=n.length;e<r;e++)i(n[e],t)}))}},then:function(t,r){var i=new n,o={y:t,n:r,p:i};if(void 0===this.state)this.c?this.c.push(o):this.c=[o];else{var s=this.state,u=this.v;e((function(){s(o,u)}))}return i}},n.resolve=function(t){if(t&&t instanceof n)return t;var e=new n;return e.resolve(t),e},n.reject=function(t){if(t&&t instanceof n)return t;var e=new n;return e.reject(t),e},n.version="2.3.3-nodent",n})());var i=this;switch(n){case!0:return new t.Thenable(r);case 0:return new t.LazyThenable(r);case void 0:return r.then=r,r;default:return function(){try{return i.apply(e,arguments)}catch(t){return n(t)}}}};function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s={exports:{}},u=s.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=u);var a={}.hasOwnProperty,c=function(t,e){return a.call(t,e)},l=function(t){try{return!!t()}catch(t){return!0}},h=!l((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),f={exports:{}},d=f.exports={version:"2.6.12"};"number"==typeof __e&&(__e=d);var p={},v=function(t){return"object"==typeof t?null!==t:"function"==typeof t},m=v,g=function(t){if(!m(t))throw TypeError(t+" is not an object!");return t},y=v,b=s.exports.document,_=y(b)&&y(b.createElement),w=function(t){return _?b.createElement(t):{}},A=!h&&!l((function(){return 7!=Object.defineProperty(w("div"),"a",{get:function(){return 7}}).a})),S=v,k=function(t,e){if(!S(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!S(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!S(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!S(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},P=g,E=A,x=k,O=Object.defineProperty;p.f=h?Object.defineProperty:function(t,e,n){if(P(t),e=x(e,!0),P(n),E)try{return O(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t};var C=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},j=p,T=C,I=h?function(t,e,n){return j.f(t,e,T(1,n))}:function(t,e,n){return t[e]=n,t},M={exports:{}},V=0,L=Math.random(),D=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++V+L).toString(36))},F={exports:{}},R=f.exports,U=s.exports,N="__core-js_shared__",z=U[N]||(U[N]={});(F.exports=function(t,e){return z[t]||(z[t]=void 0!==e?e:{})})("versions",[]).push({version:R.version,mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"});var B=F.exports("native-function-to-string",Function.toString),W=s.exports,G=I,q=c,H=D("src"),Q=B,$="toString",Y=(""+Q).split($);f.exports.inspectSource=function(t){return Q.call(t)},(M.exports=function(t,e,n,r){var i="function"==typeof n;i&&(q(n,"name")||G(n,"name",e)),t[e]!==n&&(i&&(q(n,H)||G(n,H,t[e]?""+t[e]:Y.join(String(e)))),t===W?t[e]=n:r?t[e]?t[e]=n:G(t,e,n):(delete t[e],G(t,e,n)))})(Function.prototype,$,(function(){return"function"==typeof this&&this[H]||Q.call(this)}));var K=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},X=K,J=function(t,e,n){if(X(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},Z=s.exports,tt=f.exports,et=I,nt=M.exports,rt=J,it=function(t,e,n){var r,i,o,s,u=t&it.F,a=t&it.G,c=t&it.S,l=t&it.P,h=t&it.B,f=a?Z:c?Z[e]||(Z[e]={}):(Z[e]||{}).prototype,d=a?tt:tt[e]||(tt[e]={}),p=d.prototype||(d.prototype={});for(r in a&&(n=e),n)o=((i=!u&&f&&void 0!==f[r])?f:n)[r],s=h&&i?rt(o,Z):l&&"function"==typeof o?rt(Function.call,o):o,f&&nt(f,r,o,t&it.U),d[r]!=o&&et(d,r,s),l&&p[r]!=o&&(p[r]=o)};Z.core=tt,it.F=1,it.G=2,it.S=4,it.P=8,it.B=16,it.W=32,it.U=64,it.R=128;var ot=it,st={exports:{}},ut=D("meta"),at=v,ct=c,lt=p.f,ht=0,ft=Object.isExtensible||function(){return!0},dt=!l((function(){return ft(Object.preventExtensions({}))})),pt=function(t){lt(t,ut,{value:{i:"O"+ ++ht,w:{}}})},vt=st.exports={KEY:ut,NEED:!1,fastKey:function(t,e){if(!at(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!ct(t,ut)){if(!ft(t))return"F";if(!e)return"E";pt(t)}return t[ut].i},getWeak:function(t,e){if(!ct(t,ut)){if(!ft(t))return!0;if(!e)return!1;pt(t)}return t[ut].w},onFreeze:function(t){return dt&&vt.NEED&&ft(t)&&!ct(t,ut)&&pt(t),t}},mt={exports:{}},gt=F.exports("wks"),yt=D,bt=s.exports.Symbol,_t="function"==typeof bt;(mt.exports=function(t){return gt[t]||(gt[t]=_t&&bt[t]||(_t?bt:yt)("Symbol."+t))}).store=gt;var wt=p.f,At=c,St=mt.exports("toStringTag"),kt=function(t,e,n){t&&!At(t=n?t:t.prototype,St)&&wt(t,St,{configurable:!0,value:e})},Pt={};Pt.f=mt.exports;var Et=s.exports,xt=f.exports,Ot=Pt,Ct=p.f,jt={}.toString,Tt=function(t){return jt.call(t).slice(8,-1)},It=Tt,Mt=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==It(t)?t.split(""):Object(t)},Vt=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},Lt=Mt,Dt=Vt,Ft=function(t){return Lt(Dt(t))},Rt=Math.ceil,Ut=Math.floor,Nt=function(t){return isNaN(t=+t)?0:(t>0?Ut:Rt)(t)},zt=Nt,Bt=Math.min,Wt=function(t){return t>0?Bt(zt(t),9007199254740991):0},Gt=Nt,qt=Math.max,Ht=Math.min,Qt=function(t,e){return(t=Gt(t))<0?qt(t+e,0):Ht(t,e)},$t=Ft,Yt=Wt,Kt=Qt,Xt=function(t){return function(e,n,r){var i,o=$t(e),s=Yt(o.length),u=Kt(r,s);if(t&&n!=n){for(;s>u;)if((i=o[u++])!=i)return!0}else for(;s>u;u++)if((t||u in o)&&o[u]===n)return t||u||0;return!t&&-1}},Jt=F.exports("keys"),Zt=D,te=function(t){return Jt[t]||(Jt[t]=Zt(t))},ee=c,ne=Ft,re=Xt(!1),ie=te("IE_PROTO"),oe=function(t,e){var n,r=ne(t),i=0,o=[];for(n in r)n!=ie&&ee(r,n)&&o.push(n);for(;e.length>i;)ee(r,n=e[i++])&&(~re(o,n)||o.push(n));return o},se="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ue=oe,ae=se,ce=Object.keys||function(t){return ue(t,ae)},le={};le.f=Object.getOwnPropertySymbols;var he={};he.f={}.propertyIsEnumerable;var fe=ce,de=le,pe=he,ve=Tt,me=Array.isArray||function(t){return"Array"==ve(t)},ge=Vt,ye=function(t){return Object(ge(t))},be=p,_e=g,we=ce,Ae=h?Object.defineProperties:function(t,e){_e(t);for(var n,r=we(e),i=r.length,o=0;i>o;)be.f(t,n=r[o++],e[n]);return t},Se=s.exports.document,ke=Se&&Se.documentElement,Pe=g,Ee=Ae,xe=se,Oe=te("IE_PROTO"),Ce=function(){},je=function(){var t,e=w("iframe"),n=xe.length;for(e.style.display="none",ke.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),je=t.F;n--;)delete je.prototype[xe[n]];return je()},Te=Object.create||function(t,e){var n;return null!==t?(Ce.prototype=Pe(t),n=new Ce,Ce.prototype=null,n[Oe]=t):n=je(),void 0===e?n:Ee(n,e)},Ie={},Me={},Ve=oe,Le=se.concat("length","prototype");Me.f=Object.getOwnPropertyNames||function(t){return Ve(t,Le)};var De=Ft,Fe=Me.f,Re={}.toString,Ue="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Ie.f=function(t){return Ue&&"[object Window]"==Re.call(t)?function(t){try{return Fe(t)}catch(t){return Ue.slice()}}(t):Fe(De(t))};var Ne={},ze=he,Be=C,We=Ft,Ge=k,qe=c,He=A,Qe=Object.getOwnPropertyDescriptor;Ne.f=h?Qe:function(t,e){if(t=We(t),e=Ge(e,!0),He)try{return Qe(t,e)}catch(t){}if(qe(t,e))return Be(!ze.f.call(t,e),t[e])};var $e=s.exports,Ye=c,Ke=h,Xe=ot,Je=M.exports,Ze=st.exports.KEY,tn=l,en=F.exports,nn=kt,rn=D,on=mt.exports,sn=Pt,un=function(t){var e=xt.Symbol||(xt.Symbol=Et.Symbol||{});"_"==t.charAt(0)||t in e||Ct(e,t,{value:Ot.f(t)})},an=me,cn=g,ln=v,hn=ye,fn=Ft,dn=k,pn=C,vn=Te,mn=Ie,gn=Ne,yn=le,bn=p,_n=ce,wn=gn.f,An=bn.f,Sn=mn.f,kn=$e.Symbol,Pn=$e.JSON,En=Pn&&Pn.stringify,xn=on("_hidden"),On=on("toPrimitive"),Cn={}.propertyIsEnumerable,jn=en("symbol-registry"),Tn=en("symbols"),In=en("op-symbols"),Mn=Object.prototype,Vn="function"==typeof kn&&!!yn.f,Ln=$e.QObject,Dn=!Ln||!Ln.prototype||!Ln.prototype.findChild,Fn=Ke&&tn((function(){return 7!=vn(An({},"a",{get:function(){return An(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=wn(Mn,e);r&&delete Mn[e],An(t,e,n),r&&t!==Mn&&An(Mn,e,r)}:An,Rn=function(t){var e=Tn[t]=vn(kn.prototype);return e._k=t,e},Un=Vn&&"symbol"==typeof kn.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof kn},Nn=function(t,e,n){return t===Mn&&Nn(In,e,n),cn(t),e=dn(e,!0),cn(n),Ye(Tn,e)?(n.enumerable?(Ye(t,xn)&&t[xn][e]&&(t[xn][e]=!1),n=vn(n,{enumerable:pn(0,!1)})):(Ye(t,xn)||An(t,xn,pn(1,{})),t[xn][e]=!0),Fn(t,e,n)):An(t,e,n)},zn=function(t,e){cn(t);for(var n,r=function(t){var e=fe(t),n=de.f;if(n)for(var r,i=n(t),o=pe.f,s=0;i.length>s;)o.call(t,r=i[s++])&&e.push(r);return e}(e=fn(e)),i=0,o=r.length;o>i;)Nn(t,n=r[i++],e[n]);return t},Bn=function(t){var e=Cn.call(this,t=dn(t,!0));return!(this===Mn&&Ye(Tn,t)&&!Ye(In,t))&&(!(e||!Ye(this,t)||!Ye(Tn,t)||Ye(this,xn)&&this[xn][t])||e)},Wn=function(t,e){if(t=fn(t),e=dn(e,!0),t!==Mn||!Ye(Tn,e)||Ye(In,e)){var n=wn(t,e);return!n||!Ye(Tn,e)||Ye(t,xn)&&t[xn][e]||(n.enumerable=!0),n}},Gn=function(t){for(var e,n=Sn(fn(t)),r=[],i=0;n.length>i;)Ye(Tn,e=n[i++])||e==xn||e==Ze||r.push(e);return r},qn=function(t){for(var e,n=t===Mn,r=Sn(n?In:fn(t)),i=[],o=0;r.length>o;)!Ye(Tn,e=r[o++])||n&&!Ye(Mn,e)||i.push(Tn[e]);return i};Vn||(Je((kn=function(){if(this instanceof kn)throw TypeError("Symbol is not a constructor!");var t=rn(arguments.length>0?arguments[0]:void 0),e=function(n){this===Mn&&e.call(In,n),Ye(this,xn)&&Ye(this[xn],t)&&(this[xn][t]=!1),Fn(this,t,pn(1,n))};return Ke&&Dn&&Fn(Mn,t,{configurable:!0,set:e}),Rn(t)}).prototype,"toString",(function(){return this._k})),gn.f=Wn,bn.f=Nn,Me.f=mn.f=Gn,he.f=Bn,yn.f=qn,Ke&&Je(Mn,"propertyIsEnumerable",Bn,!0),sn.f=function(t){return Rn(on(t))}),Xe(Xe.G+Xe.W+Xe.F*!Vn,{Symbol:kn});for(var Hn="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Qn=0;Hn.length>Qn;)on(Hn[Qn++]);for(var $n=_n(on.store),Yn=0;$n.length>Yn;)un($n[Yn++]);Xe(Xe.S+Xe.F*!Vn,"Symbol",{for:function(t){return Ye(jn,t+="")?jn[t]:jn[t]=kn(t)},keyFor:function(t){if(!Un(t))throw TypeError(t+" is not a symbol!");for(var e in jn)if(jn[e]===t)return e},useSetter:function(){Dn=!0},useSimple:function(){Dn=!1}}),Xe(Xe.S+Xe.F*!Vn,"Object",{create:function(t,e){return void 0===e?vn(t):zn(vn(t),e)},defineProperty:Nn,defineProperties:zn,getOwnPropertyDescriptor:Wn,getOwnPropertyNames:Gn,getOwnPropertySymbols:qn});var Kn=tn((function(){yn.f(1)}));Xe(Xe.S+Xe.F*Kn,"Object",{getOwnPropertySymbols:function(t){return yn.f(hn(t))}}),Pn&&Xe(Xe.S+Xe.F*(!Vn||tn((function(){var t=kn();return"[null]"!=En([t])||"{}"!=En({a:t})||"{}"!=En(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(ln(e)||void 0!==t)&&!Un(t))return an(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Un(e))return e}),r[1]=e,En.apply(Pn,r)}}),kn.prototype[On]||I(kn.prototype,On,kn.prototype.valueOf),nn(kn,"Symbol"),nn(Math,"Math",!0),nn($e.JSON,"JSON",!0);var Xn=h,Jn=ce,Zn=le,tr=he,er=ye,nr=Mt,rr=Object.assign,ir=!rr||l((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=rr({},t)[n]||Object.keys(rr({},e)).join("")!=r}))?function(t,e){for(var n=er(t),r=arguments.length,i=1,o=Zn.f,s=tr.f;r>i;)for(var u,a=nr(arguments[i++]),c=o?Jn(a).concat(o(a)):Jn(a),l=c.length,h=0;l>h;)u=c[h++],Xn&&!s.call(a,u)||(n[u]=a[u]);return n}:rr,or=ot;or(or.S+or.F,"Object",{assign:ir});var sr=ot,ur=ke,ar=Tt,cr=Qt,lr=Wt,hr=[].slice;sr(sr.P+sr.F*l((function(){ur&&hr.call(ur)})),"Array",{slice:function(t,e){var n=lr(this.length),r=ar(this);if(e=void 0===e?n:e,"Array"==r)return hr.call(this,t,e);for(var i=cr(t,n),o=cr(e,n),s=lr(o-i),u=new Array(s),a=0;a<s;a++)u[a]="String"==r?this.charAt(i+a):this[i+a];return u}});var fr=v,dr=me,pr=mt.exports("species"),vr=J,mr=Mt,gr=ye,yr=Wt,br=function(t,e){return new(function(t){var e;return dr(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!dr(e.prototype)||(e=void 0),fr(e)&&null===(e=e[pr])&&(e=void 0)),void 0===e?Array:e}(t))(e)},_r=function(t,e){var n=1==t,r=2==t,i=3==t,o=4==t,s=6==t,u=5==t||s,a=e||br;return function(e,c,l){for(var h,f,d=gr(e),p=mr(d),v=vr(c,l,3),m=yr(p.length),g=0,y=n?a(e,m):r?a(e,0):void 0;m>g;g++)if((u||g in p)&&(f=v(h=p[g],g,d),t))if(n)y[g]=f;else if(f)switch(t){case 3:return!0;case 5:return h;case 6:return g;case 2:y.push(h)}else if(o)return!1;return s?-1:i||o?o:y}},wr=M.exports,Ar=function(t,e,n){for(var r in e)wr(t,r,e[r],n);return t},Sr=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t},kr={exports:{}},Pr=g,Er=function(t,e,n,r){try{return r?e(Pr(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&Pr(i.call(t)),e}},xr={},Or=xr,Cr=mt.exports("iterator"),jr=Array.prototype,Tr=function(t){return void 0!==t&&(Or.Array===t||jr[Cr]===t)},Ir=Tt,Mr=mt.exports("toStringTag"),Vr="Arguments"==Ir(function(){return arguments}()),Lr=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Mr))?n:Vr?Ir(e):"Object"==(r=Ir(e))&&"function"==typeof e.callee?"Arguments":r},Dr=Lr,Fr=mt.exports("iterator"),Rr=xr,Ur=f.exports.getIteratorMethod=function(t){if(null!=t)return t[Fr]||t["@@iterator"]||Rr[Dr(t)]},Nr=J,zr=Er,Br=Tr,Wr=g,Gr=Wt,qr=Ur,Hr={},Qr={},$r=kr.exports=function(t,e,n,r,i){var o,s,u,a,c=i?function(){return t}:qr(t),l=Nr(n,r,e?2:1),h=0;if("function"!=typeof c)throw TypeError(t+" is not iterable!");if(Br(c)){for(o=Gr(t.length);o>h;h++)if((a=e?l(Wr(s=t[h])[0],s[1]):l(t[h]))===Hr||a===Qr)return a}else for(u=c.call(t);!(s=u.next()).done;)if((a=zr(u,l,s.value,e))===Hr||a===Qr)return a};$r.BREAK=Hr,$r.RETURN=Qr;var Yr=v,Kr=function(t,e){if(!Yr(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t},Xr=Ar,Jr=st.exports.getWeak,Zr=g,ti=v,ei=Sr,ni=kr.exports,ri=_r,ii=c,oi=Kr,si=ri(5),ui=ri(6),ai=0,ci=function(t){return t._l||(t._l=new li)},li=function(){this.a=[]},hi=function(t,e){return si(t.a,(function(t){return t[0]===e}))};li.prototype={get:function(t){var e=hi(this,t);if(e)return e[1]},has:function(t){return!!hi(this,t)},set:function(t,e){var n=hi(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=ui(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}};var fi={getConstructor:function(t,e,n,r){var i=t((function(t,o){ei(t,i,e,"_i"),t._t=e,t._i=ai++,t._l=void 0,null!=o&&ni(o,n,t[r],t)}));return Xr(i.prototype,{delete:function(t){if(!ti(t))return!1;var n=Jr(t);return!0===n?ci(oi(this,e)).delete(t):n&&ii(n,this._i)&&delete n[this._i]},has:function(t){if(!ti(t))return!1;var n=Jr(t);return!0===n?ci(oi(this,e)).has(t):n&&ii(n,this._i)}}),i},def:function(t,e,n){var r=Jr(Zr(e),!0);return!0===r?ci(t).set(e,n):r[t._i]=n,t},ufstore:ci},di=mt.exports("iterator"),pi=!1;try{var vi=[7][di]();vi.return=function(){pi=!0},Array.from(vi,(function(){throw 2}))}catch(t){}var mi,gi=function(t,e){if(!e&&!pi)return!1;var n=!1;try{var r=[7],i=r[di]();i.next=function(){return{done:n=!0}},r[di]=function(){return i},t(r)}catch(t){}return n},yi=v,bi=g,_i=function(t,e){if(bi(t),!yi(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},wi={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=J(Function.call,Ne.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return _i(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:_i},Ai=v,Si=wi.set,ki=function(t,e,n){var r,i=e.constructor;return i!==n&&"function"==typeof i&&(r=i.prototype)!==n.prototype&&Ai(r)&&Si&&Si(t,r),t},Pi=s.exports,Ei=ot,xi=M.exports,Oi=Ar,Ci=st.exports,ji=kr.exports,Ti=Sr,Ii=v,Mi=l,Vi=gi,Li=kt,Di=ki,Fi=s.exports,Ri=_r(0),Ui=M.exports,Ni=st.exports,zi=ir,Bi=fi,Wi=v,Gi=Kr,qi=Kr,Hi=!Fi.ActiveXObject&&"ActiveXObject"in Fi,Qi="WeakMap",$i=Ni.getWeak,Yi=Object.isExtensible,Ki=Bi.ufstore,Xi=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},Ji={get:function(t){if(Wi(t)){var e=$i(t);return!0===e?Ki(Gi(this,Qi)).get(t):e?e[this._i]:void 0}},set:function(t,e){return Bi.def(Gi(this,Qi),t,e)}},Zi=function(t,e,n,r,i,o){var s=Pi[t],u=s,a=u&&u.prototype,c={},l=function(t){var e=a[t];xi(a,t,"delete"==t||"has"==t?function(t){return!!Ii(t)&&e.call(this,0===t?0:t)}:"get"==t?function(t){return Ii(t)?e.call(this,0===t?0:t):void 0}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof u){var h=new u,f=h.set({},1)!=h,d=Mi((function(){h.has(1)}));Vi((function(t){new u(t)}))||((u=e((function(e,n){Ti(e,u,t);var r=Di(new s,e,u);return null!=n&&ji(n,true,r.set,r),r}))).prototype=a,a.constructor=u),!!d&&(l("delete"),l("has"),l("get")),f&&l("set"),a.clear&&delete a.clear}else u=r.getConstructor(e,t,true,"set"),Oi(u.prototype,n),Ci.NEED=!0;return Li(u,t),c[t]=u,Ei(Ei.G+Ei.W+Ei.F*(u!=s),c),u}(Qi,Xi,Ji,Bi);qi&&Hi&&(zi((mi=Bi.getConstructor(Xi,Qi)).prototype,Ji),Ni.NEED=!0,Ri(["delete","has","get","set"],(function(t){var e=Zi.prototype,n=e[t];Ui(e,t,(function(e,r){if(Wi(e)&&!Yi(e)){this._f||(this._f=new mi);var i=this._f[t](e,r);return"set"==t?this:i}return n.call(this,e,r)}))})));var to=Nt,eo=Vt,no=function(t){return function(e,n){var r,i,o=String(eo(e)),s=to(n),u=o.length;return s<0||s>=u?t?"":void 0:(r=o.charCodeAt(s))<55296||r>56319||s+1===u||(i=o.charCodeAt(s+1))<56320||i>57343?t?o.charAt(s):r:t?o.slice(s,s+2):i-56320+(r-55296<<10)+65536}},ro=Te,io=C,oo=kt,so={};I(so,mt.exports("iterator"),(function(){return this}));var uo=c,ao=ye,co=te("IE_PROTO"),lo=Object.prototype,ho=Object.getPrototypeOf||function(t){return t=ao(t),uo(t,co)?t[co]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?lo:null},fo=ot,po=M.exports,vo=I,mo=xr,go=function(t,e,n){t.prototype=ro(so,{next:io(1,n)}),oo(t,e+" Iterator")},yo=kt,bo=ho,_o=mt.exports("iterator"),wo=!([].keys&&"next"in[].keys()),Ao="keys",So="values",ko=function(){return this},Po=function(t,e,n,r,i,o,s){go(n,e,r);var u,a,c,l=function(t){if(!wo&&t in p)return p[t];switch(t){case Ao:case So:return function(){return new n(this,t)}}return function(){return new n(this,t)}},h=e+" Iterator",f=i==So,d=!1,p=t.prototype,v=p[_o]||p["@@iterator"]||i&&p[i],m=v||l(i),g=i?f?l("entries"):m:void 0,y="Array"==e&&p.entries||v;if(y&&(c=bo(y.call(new t)))!==Object.prototype&&c.next&&(yo(c,h,!0),"function"!=typeof c[_o]&&vo(c,_o,ko)),f&&v&&v.name!==So&&(d=!0,m=function(){return v.call(this)}),(wo||d||!p[_o])&&vo(p,_o,m),mo[e]=m,mo[h]=ko,i)if(u={values:f?m:l(So),keys:o?m:l(Ao),entries:g},s)for(a in u)a in p||po(p,a,u[a]);else fo(fo.P+fo.F*(wo||d),e,u);return u},Eo=no(!0);Po(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=Eo(e,n),this._i+=t.length,{value:t,done:!1})}));var xo=Lr,Oo={};Oo[mt.exports("toStringTag")]="z",Oo+""!="[object z]"&&M.exports(Object.prototype,"toString",(function(){return"[object "+xo(this)+"]"}),!0);var Co=mt.exports("unscopables"),jo=Array.prototype;null==jo[Co]&&I(jo,Co,{});var To=function(t){jo[Co][t]=!0},Io=To,Mo=function(t,e){return{value:e,done:!!t}},Vo=xr,Lo=Ft,Do=Po(Array,"Array",(function(t,e){this._t=Lo(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,Mo(1)):Mo(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values");Vo.Arguments=Vo.Array,Io("keys"),Io("values"),Io("entries");for(var Fo=Do,Ro=ce,Uo=M.exports,No=s.exports,zo=I,Bo=xr,Wo=mt.exports,Go=Wo("iterator"),qo=Wo("toStringTag"),Ho=Bo.Array,Qo={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},$o=Ro(Qo),Yo=0;Yo<$o.length;Yo++){var Ko,Xo=$o[Yo],Jo=Qo[Xo],Zo=No[Xo],ts=Zo&&Zo.prototype;if(ts&&(ts[Go]||zo(ts,Go,Ho),ts[qo]||zo(ts,qo,Xo),Bo[Xo]=Ho,Jo))for(Ko in Fo)ts[Ko]||Uo(ts,Ko,Fo[Ko],!0)}var es=p.f,ns=Function.prototype,rs=/^\s*function ([^ (]*)/,is="name";is in ns||h&&es(ns,is,{configurable:!0,get:function(){try{return(""+this).match(rs)[1]}catch(t){return""}}});var os="undefined"!=typeof process?[process.env.LOG_LEVEL,process.env.NODE_ENV]:[],ss=os[0],us=os[1],as=function(){function t(t,e){this._scope=t,this.level=e,this._init()}var n=t.prototype;return n.isAllowed=function(e){return t.LEVELS.indexOf(e)>=this._levelIndex},n.formatArgs=function(t){var e=Date.now(),n=e-this._startTime,r=e-this._prevTime;return this._prevTime=e,(t=t.slice()).unshift("("+n+", +"+r+")"),null!=this._scope&&t.unshift(this._scope+":"),t.join(" ")},n._init=function(){var e=this;this._startTime="undefined"!=typeof window&&null!=window.performance&&null!=window.performance.timing?window.performance.timing.navigationStart:Date.now(),this._prevTime=this._startTime;for(var n=function(n){var r=t.LEVELS[n];Object.defineProperty(e,r,{value:function(){if(n>=e._levelIndex){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];console[r](e.formatArgs(i))}}})},r=0;r<t.LEVELS.length;++r)n(r)},e(t,[{key:"scope",get:function(){return this._scope}},{key:"level",get:function(){return this._level},set:function(e){this._level=e,this._levelIndex=t.LEVELS.indexOf(this._level)}}]),t}();Object.defineProperty(as,"LEVELS",{value:["debug","log","info","warn","error"]});var cs=new WeakMap,ls=0,hs=function(t){return"string"!=typeof t||0===t.length},fs=l,ds=function(t,e){return!!t&&fs((function(){e?t.call(null,(function(){}),1):t.call(null)}))},ps=ot,vs=_r(1);ps(ps.P+ps.F*!ds([].map,!0),"Array",{map:function(t){return vs(this,t,arguments[1])}});var ms=ot,gs=f.exports,ys=l,bs=function(t,e){var n=(gs.Object||{})[t]||Object[t],r={};r[t]=e(n),ms(ms.S+ms.F*ys((function(){n(1)})),"Object",r)},_s=ye,ws=ce;bs("keys",(function(){return function(t){return ws(_s(t))}}));var As,Ss=-2,ks={AdLoaded:"AdLoaded",AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdSkippableStateChange:"AdSkippableStateChange",AdSizeChange:"AdSizeChange",AdLinearChange:"AdLinearChange",AdDurationChange:"AdDurationChange",AdExpandedChange:"AdExpandedChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:"AdUserMinimize",AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdLog:"AdLog",AdError:"AdError",AdMutedUnmutedPlayback:"AdMutedUnmutedPlayback"},Ps=[ks.AdLoaded,ks.AdStarted,ks.AdStopped,ks.AdSkipped,ks.AdImpression,ks.AdVideoStart,ks.AdVideoFirstQuartile,ks.AdVideoMidpoint,ks.AdVideoThirdQuartile,ks.AdVideoComplete,ks.AdError],Es={initAd:"initAd",resizeAd:"resizeAd",startAd:"startAd",stopAd:"stopAd",pauseAd:"pauseAd",resumeAd:"resumeAd",expandAd:"expandAd",collapseAd:"collapseAd",skipAd:"skipAd"},xs=[Es.initAd,Es.startAd,Es.stopAd,Es.skipAd];(As={})[Es.initAd]=[ks.AdLoaded],As[Es.resizeAd]=[ks.AdSizeChange],As[Es.startAd]=[ks.AdStarted],As[Es.stopAd]=[ks.AdStopped],As[Es.pauseAd]=[ks.AdPaused],As[Es.resumeAd]=[ks.AdPlaying],As[Es.expandAd]=[ks.AdExpandedChange],As[Es.collapseAd]=[ks.AdExpandedChange],As[Es.skipAd]=[ks.AdSkipped,ks.AdStopped];var Os,Cs={adLinear:{defaultValue:!0},adWidth:{defaultValue:Ss},adHeight:{defaultValue:Ss},adExpanded:{defaultValue:!1},adSkippableState:{defaultValue:!1},adRemainingTime:{defaultValue:Ss},adDuration:{defaultValue:Ss},adVolume:{writable:!0,defaultValue:Ss},adCompanions:{defaultValue:""},adIcons:{defaultValue:!1}},js=[ks.AdVideoStart,ks.AdVideoFirstQuartile,ks.AdVideoMidpoint,ks.AdVideoThirdQuartile,ks.AdVideoComplete],Ts=[ks.AdStopped,ks.AdError];(Os={})[ks.AdSkipped]=["skip"],Os[ks.AdStarted]=["creativeView"],Os[ks.AdImpression]=["impression"],Os[ks.AdVideoStart]=["start"],Os[ks.AdVideoFirstQuartile]=["firstQuartile"],Os[ks.AdVideoMidpoint]=["midpoint"],Os[ks.AdVideoThirdQuartile]=["thirdQuartile"],Os[ks.AdVideoComplete]=["complete"],Os[ks.AdUserAcceptInvitation]=["acceptInvitation"],Os[ks.AdUserMinimize]=["collapse","playerCollapse"],Os[ks.AdUserClose]=["close","closeLinear"],Os[ks.AdPaused]=["pause"],Os[ks.AdPlaying]=["resume"],Os[ks.AdExpandedChange]=["expand","playerExpand"],Os[ks.AdError]=["error"],Os[ks.AdClickThru]=["click"];var Is=function(t){return null!=t&&"function"==typeof t.then};Object.keys(ks).map((function(t){return ks[t]}));var Ms=no(!0),Vs=function(t,e,n){return e+(n?Ms(t,e).length:1)},Ls=Lr,Ds=RegExp.prototype.exec,Fs=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==Ls(t))throw new TypeError("RegExp#exec called on incompatible receiver");return Ds.call(t,e)},Rs=g,Us=function(){var t=Rs(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},Ns=Us,zs=RegExp.prototype.exec,Bs=String.prototype.replace,Ws=zs,Gs=function(){var t=/a/,e=/b*/g;return zs.call(t,"a"),zs.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),qs=void 0!==/()??/.exec("")[1];(Gs||qs)&&(Ws=function(t){var e,n,r,i,o=this;return qs&&(n=new RegExp("^"+o.source+"$(?!\\s)",Ns.call(o))),Gs&&(e=o.lastIndex),r=zs.call(o,t),Gs&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),qs&&r&&r.length>1&&Bs.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var Hs=Ws;ot({target:"RegExp",proto:!0,forced:Hs!==/./.exec},{exec:Hs});var Qs=M.exports,$s=I,Ys=l,Ks=Vt,Xs=mt.exports,Js=Hs,Zs=Xs("species"),tu=!Ys((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),eu=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),nu=function(t,e,n){var r=Xs(t),i=!Ys((function(){var e={};return e[r]=function(){return 7},7!=""[t](e)})),o=i?!Ys((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[Zs]=function(){return n}),n[r](""),!e})):void 0;if(!i||!o||"replace"===t&&!tu||"split"===t&&!eu){var s=/./[r],u=n(Ks,r,""[t],(function(t,e,n,r,o){return e.exec===Js?i&&!o?{done:!0,value:s.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),a=u[0],c=u[1];Qs(String.prototype,t,a),$s(RegExp.prototype,r,2==e?function(t,e){return c.call(t,this,e)}:function(t){return c.call(t,this)})}},ru=g,iu=Wt,ou=Vs,su=Fs;nu("match",1,(function(t,e,n,r){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=r(n,t,this);if(e.done)return e.value;var i=ru(t),o=String(this);if(!i.global)return su(i,o);var s=i.unicode;i.lastIndex=0;for(var u,a=[],c=0;null!==(u=su(i,o));){var l=String(u[0]);a[c]=l,""===l&&(i.lastIndex=ou(o,iu(i.lastIndex),s)),c++}return 0===c?null:a}]}));var uu,au=ot,cu=l,lu=Vt,hu=/"/g;(uu={}).blink=function(){return t="blink",e="",n="",r=String(lu(this)),i="<"+t,""!==e&&(i+=" "+e+'="'+String(n).replace(hu,"&quot;")+'"'),i+">"+r+"</"+t+">";var t,e,n,r,i},au(au.P+au.F*cu((function(){var t="".blink('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",uu);var fu=g,du=ye,pu=Wt,vu=Nt,mu=Vs,gu=Fs,yu=Math.max,bu=Math.min,_u=Math.floor,wu=/\$([$&`']|\d\d?|<[^>]*>)/g,Au=/\$([$&`']|\d\d?)/g;nu("replace",2,(function(t,e,n,r){return[function(r,i){var o=t(this),s=null==r?void 0:r[e];return void 0!==s?s.call(r,o,i):n.call(String(o),r,i)},function(t,e){var o=r(n,t,this,e);if(o.done)return o.value;var s=fu(t),u=String(this),a="function"==typeof e;a||(e=String(e));var c=s.global;if(c){var l=s.unicode;s.lastIndex=0}for(var h=[];;){var f=gu(s,u);if(null===f)break;if(h.push(f),!c)break;""===String(f[0])&&(s.lastIndex=mu(u,pu(s.lastIndex),l))}for(var d,p="",v=0,m=0;m<h.length;m++){f=h[m];for(var g=String(f[0]),y=yu(bu(vu(f.index),u.length),0),b=[],_=1;_<f.length;_++)b.push(void 0===(d=f[_])?d:String(d));var w=f.groups;if(a){var A=[g].concat(b,y,u);void 0!==w&&A.push(w);var S=String(e.apply(void 0,A))}else S=i(g,u,y,b,w,e);y>=v&&(p+=u.slice(v,y)+S,v=y+g.length)}return p+u.slice(v)}];function i(t,e,r,i,o,s){var u=r+t.length,a=i.length,c=Au;return void 0!==o&&(o=du(o),c=wu),n.call(s,c,(function(n,s){var c;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(u);case"<":c=o[s.slice(1,-1)];break;default:var l=+s;if(0===l)return n;if(l>a){var h=_u(l/10);return 0===h?n:h<=a?void 0===i[h-1]?s.charAt(1):i[h-1]+s.charAt(1):n}c=i[l-1]}return void 0===c?"":c}))}}));var Su=v,ku=Tt,Pu=mt.exports("match"),Eu=function(t){var e;return Su(t)&&(void 0!==(e=t[Pu])?!!e:"RegExp"==ku(t))},xu=g,Ou=K,Cu=mt.exports("species"),ju=function(t,e){var n,r=xu(t).constructor;return void 0===r||null==(n=xu(r)[Cu])?e:Ou(n)},Tu=Eu,Iu=g,Mu=ju,Vu=Vs,Lu=Wt,Du=Fs,Fu=Hs,Ru=l,Uu=Math.min,Nu=[].push,zu=4294967295,Bu=!Ru((function(){RegExp(zu,"y")}));nu("split",2,(function(t,e,n,r){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!Tu(t))return n.call(r,t,e);for(var i,o,s,u=[],a=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),c=0,l=void 0===e?zu:e>>>0,h=new RegExp(t.source,a+"g");(i=Fu.call(h,r))&&!((o=h.lastIndex)>c&&(u.push(r.slice(c,i.index)),i.length>1&&i.index<r.length&&Nu.apply(u,i.slice(1)),s=i[0].length,c=o,u.length>=l));)h.lastIndex===i.index&&h.lastIndex++;return c===r.length?!s&&h.test("")||u.push(""):u.push(r.slice(c)),u.length>l?u.slice(0,l):u}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var o=t(this),s=null==n?void 0:n[e];return void 0!==s?s.call(n,o,r):i.call(String(o),n,r)},function(t,e){var o=r(i,t,this,e,i!==n);if(o.done)return o.value;var s=Iu(t),u=String(this),a=Mu(s,RegExp),c=s.unicode,l=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(Bu?"y":"g"),h=new a(Bu?s:"^(?:"+s.source+")",l),f=void 0===e?zu:e>>>0;if(0===f)return[];if(0===u.length)return null===Du(h,u)?[u]:[];for(var d=0,p=0,v=[];p<u.length;){h.lastIndex=Bu?p:0;var m,g=Du(h,Bu?u:u.slice(p));if(null===g||(m=Uu(Lu(h.lastIndex+(Bu?0:p)),u.length))===d)p=Vu(u,p,c);else{if(v.push(u.slice(d,p)),v.length===f)return v;for(var y=1;y<=g.length-1;y++)if(v.push(g[y]),v.length===f)return v;p=d=m}}return v.push(u.slice(d)),v}]}));var Wu,Gu,qu,Hu={exports:{}};Gu=o,qu=function(){var t=!0;function e(e){function n(t){var n=e.match(t);return n&&n.length>1&&n[1]||""}function r(t){var n=e.match(t);return n&&n.length>1&&n[2]||""}var i=n(/(ipod|iphone|ipad)/i).toLowerCase(),s=!/like android/i.test(e)&&/android/i.test(e),u=/nexus\s*[0-6]\s*/i.test(e),a=!u&&/nexus\s*[0-9]+/i.test(e),c=/CrOS/.test(e),l=/silk/i.test(e),h=/sailfish/i.test(e),f=/tizen/i.test(e),d=/(web|hpw)(o|0)s/i.test(e),p=/windows phone/i.test(e);/SamsungBrowser/i.test(e);var v,m=!p&&/windows/i.test(e),g=!i&&!l&&/macintosh/i.test(e),y=!s&&!h&&!f&&!d&&/linux/i.test(e),b=r(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),_=n(/version\/(\d+(\.\d+)?)/i),w=/tablet/i.test(e)&&!/tablet pc/i.test(e),A=!w&&/[^-]mobi/i.test(e),S=/xbox/i.test(e);/opera/i.test(e)?v={name:"Opera",opera:t,version:_||n(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(e)?v={name:"Opera",opera:t,version:n(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||_}:/SamsungBrowser/i.test(e)?v={name:"Samsung Internet for Android",samsungBrowser:t,version:_||n(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(e)?v={name:"NAVER Whale browser",whale:t,version:n(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(e)?v={name:"MZ Browser",mzbrowser:t,version:n(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(e)?v={name:"Opera Coast",coast:t,version:_||n(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(e)?v={name:"Focus",focus:t,version:n(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(e)?v={name:"Yandex Browser",yandexbrowser:t,version:_||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?v={name:"UC Browser",ucbrowser:t,version:n(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?v={name:"Maxthon",maxthon:t,version:n(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?v={name:"Epiphany",epiphany:t,version:n(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?v={name:"Puffin",puffin:t,version:n(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?v={name:"Sleipnir",sleipnir:t,version:n(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?v={name:"K-Meleon",kMeleon:t,version:n(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:p?(v={name:"Windows Phone",osname:"Windows Phone",windowsphone:t},b?(v.msedge=t,v.version=b):(v.msie=t,v.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?v={name:"Internet Explorer",msie:t,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?v={name:"Chrome",osname:"Chrome OS",chromeos:t,chromeBook:t,chrome:t,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(e)?v={name:"Microsoft Edge",msedge:t,version:b}:/vivaldi/i.test(e)?v={name:"Vivaldi",vivaldi:t,version:n(/vivaldi\/(\d+(\.\d+)?)/i)||_}:h?v={name:"Sailfish",osname:"Sailfish OS",sailfish:t,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?v={name:"SeaMonkey",seamonkey:t,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(v={name:"Firefox",firefox:t,version:n(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(v.firefoxos=t,v.osname="Firefox OS")):l?v={name:"Amazon Silk",silk:t,version:n(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?v={name:"PhantomJS",phantom:t,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?v={name:"SlimerJS",slimer:t,version:n(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?v={name:"BlackBerry",osname:"BlackBerry OS",blackberry:t,version:_||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:d?(v={name:"WebOS",osname:"WebOS",webos:t,version:_||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(v.touchpad=t)):/bada/i.test(e)?v={name:"Bada",osname:"Bada",bada:t,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:f?v={name:"Tizen",osname:"Tizen",tizen:t,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||_}:/qupzilla/i.test(e)?v={name:"QupZilla",qupzilla:t,version:n(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||_}:/chromium/i.test(e)?v={name:"Chromium",chromium:t,version:n(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||_}:/chrome|crios|crmo/i.test(e)?v={name:"Chrome",chrome:t,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?v={name:"Android",version:_}:/safari|applewebkit/i.test(e)?(v={name:"Safari",safari:t},_&&(v.version=_)):i?(v={name:"iphone"==i?"iPhone":"ipad"==i?"iPad":"iPod"},_&&(v.version=_)):v=/googlebot/i.test(e)?{name:"Googlebot",googlebot:t,version:n(/googlebot\/(\d+(\.\d+))/i)||_}:{name:n(/^(.*)\/(.*) /),version:r(/^(.*)\/(.*) /)},!v.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(v.name=v.name||"Blink",v.blink=t):(v.name=v.name||"Webkit",v.webkit=t),!v.version&&_&&(v.version=_)):!v.opera&&/gecko\//i.test(e)&&(v.name=v.name||"Gecko",v.gecko=t,v.version=v.version||n(/gecko\/(\d+(\.\d+)?)/i)),v.windowsphone||!s&&!v.silk?!v.windowsphone&&i?(v[i]=t,v.ios=t,v.osname="iOS"):g?(v.mac=t,v.osname="macOS"):S?(v.xbox=t,v.osname="Xbox"):m?(v.windows=t,v.osname="Windows"):y&&(v.linux=t,v.osname="Linux"):(v.android=t,v.osname="Android");var k="";v.windows?k=function(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(n(/Windows ((NT|XP)( \d\d?.\d)?)/i)):v.windowsphone?k=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):v.mac?k=(k=n(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):i?k=(k=n(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):s?k=n(/android[ \/-](\d+(\.\d+)*)/i):v.webos?k=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):v.blackberry?k=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):v.bada?k=n(/bada\/(\d+(\.\d+)*)/i):v.tizen&&(k=n(/tizen[\/\s](\d+(\.\d+)*)/i)),k&&(v.osversion=k);var P=!v.windows&&k.split(".")[0];return w||a||"ipad"==i||s&&(3==P||P>=4&&!A)||v.silk?v.tablet=t:(A||"iphone"==i||"ipod"==i||s||u||v.blackberry||v.webos||v.bada)&&(v.mobile=t),v.msedge||v.msie&&v.version>=10||v.yandexbrowser&&v.version>=15||v.vivaldi&&v.version>=1||v.chrome&&v.version>=20||v.samsungBrowser&&v.version>=4||v.whale&&1===o([v.version,"1.0"])||v.mzbrowser&&1===o([v.version,"6.0"])||v.focus&&1===o([v.version,"1.0"])||v.firefox&&v.version>=20||v.safari&&v.version>=6||v.opera&&v.version>=10||v.ios&&v.osversion&&v.osversion.split(".")[0]>=6||v.blackberry&&v.version>=10.1||v.chromium&&v.version>=20?v.a=t:v.msie&&v.version<10||v.chrome&&v.version<20||v.firefox&&v.version<20||v.safari&&v.version<6||v.opera&&v.version<10||v.ios&&v.osversion&&v.osversion.split(".")[0]<6||v.chromium&&v.version<20?v.c=t:v.x=t,v}var n=e("undefined"!=typeof navigator&&navigator.userAgent||"");function r(t){return t.split(".").length}function i(t,e){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(n=0;n<t.length;n++)r.push(e(t[n]));return r}function o(t){for(var e=Math.max(r(t[0]),r(t[1])),n=i(t,(function(t){var n=e-r(t);return i((t+=new Array(n+1).join(".0")).split("."),(function(t){return new Array(20-t.length).join("0")+t})).reverse()}));--e>=0;){if(n[0][e]>n[1][e])return 1;if(n[0][e]!==n[1][e])return-1;if(0===e)return 0}}function s(t,r,i){var s=n;"string"==typeof r&&(i=r,r=void 0),void 0===r&&(r=!1),i&&(s=e(i));var u=""+s.version;for(var a in t)if(t.hasOwnProperty(a)&&s[a]){if("string"!=typeof t[a])throw new Error("Browser version in the minVersion map should be a string: "+a+": "+String(t));return o([u,t[a]])<0}return r}return n.test=function(t){for(var e=0;e<t.length;++e){var r=t[e];if("string"==typeof r&&r in n)return!0}return!1},n.isUnsupportedBrowser=s,n.compareVersions=o,n.check=function(t,e,n){return!s(t,e,n)},n._detect=e,n.detect=e,n},(Wu=Hu).exports?Wu.exports=qu():Gu.bowser=qu();var Qu,$u=Hu.exports,Yu=["dns-prefetch","preconnect","prefetch","preload"],Ku={},Xu=Yu.reverse();(Qu=document.createElement("link")).relList&&Qu.relList.supports?Yu.forEach((function(t){Ku[t]=Qu.relList.supports(t)})):Object.assign(Ku,{"dns-prefetch":$u.check({msie:"10",msedge:"12"},!0),prefetch:$u.check({msie:"11",msedge:"12"},!0),preload:$u.check({msedge:"17"},!0)});var Ju=function(t){return!!Ku[t]},Zu=function(t,e,n){if(void 0===e&&(e=document),void 0===n&&(n=null),null!=t&&null!=t.href&&null!=t.rel&&(t.rel=function(t,e){if(void 0===e&&(e=null),null==e){var n=Xu.indexOf(t);n>=0&&(e=Xu.slice(n+1))}if(null!=e)for(var r=0;r<e.length&&!Ju(t);)t=e[r++];return Ju(t)?t:null}(t.rel,n),null!=t.rel)){var r,i;"dns-prefetch"===t.rel||"preconnect"===t.rel?(t.href=function(t){var e=t.indexOf("//");if(e<0)return null;var n=t.indexOf("/",e+2);return n<0?t:t.substr(0,n)}(t.href),delete t.as,delete t.type):"prefetch"!==t.rel&&"preload"!==t.rel||(t.href=(i=(r=t.href).indexOf("#"))<0?r:r.substr(0,i));var o=e.createElement("link");Object.assign(o,t),e.head.appendChild(o)}};h&&"g"!=/./g.flags&&p.f(RegExp.prototype,"flags",{configurable:!0,get:Us});var ta=g,ea=Us,na=h,ra="toString",ia=/./.toString,oa=function(t){M.exports(RegExp.prototype,ra,t,!0)};l((function(){return"/a/b"!=ia.call({source:"a",flags:"b"})}))?oa((function(){var t=ta(this);return"/".concat(t.source,"/","flags"in t?t.flags:!na&&t instanceof RegExp?ea.call(t):void 0)})):ia.name!=ra&&oa((function(){return ia.call(this)}));var sa,ua,aa,ca=function(){return""+(1e9+Math.floor(9e9*Math.random()))},la=Symbol("name"),ha=Symbol("view"),fa=function(){function t(t,e){var n,r;switch(void 0===e&&(e=null),typeof t){case"object":n=t.name,r=t.callback;break;case"string":n=t;break;case"function":r=t}null==n&&(n="cb_"+(new Date).getTime().toString(36)+parseInt(ca()).toString(16).substring(1)),this[la]=n,null!=e&&null!=e.defaultView&&(e=e.defaultView),this[ha]=null!=e?e:window,null!=r&&(this.callback=r)}var n=t.prototype;return n.remove=function(){this.exists&&delete this[ha][this.name]},n.invoke=function(){this.exists&&this.callback.apply(this,arguments)},e(t,[{key:"name",get:function(){return this[la]}},{key:"exists",get:function(){return null!=this.callback}},{key:"callback",get:function(){return null!=this[ha]&&"function"==typeof this[ha][this.name]?this[ha][this.name]:null},set:function(t){null!=this[ha]&&(this[ha][this.name]=t)}}]),t}(),da=function(t){return null==t||""===(""+t).trim()||Array.isArray(t)&&null==t.length},pa="vast",va="video",ma="vpaid",ga=/^(?:application|text)\/xml\+vast$/i,ya=/^(?:application|text)\/(?:x-)?javascript$/i,ba=/^video\//i,_a=function(t){var e=t.type,n=t.apiFramework;return da(n)&&ga.test(e)},wa=function(t){var e=t.type;return"VPAID"===t.apiFramework&&ya.test(e)},Aa=[{eval:_a,result:pa},{eval:wa,result:ma},{eval:function(t){var e=t.type,n=t.apiFramework;return da(n)&&ba.test(e)},result:va}],Sa=function(t){return Aa.reduce((function(e,n){return n.eval(t)?n.result:e}),null)},ka=J,Pa=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)},Ea=ke,xa=w,Oa=s.exports,Ca=Oa.process,ja=Oa.setImmediate,Ta=Oa.clearImmediate,Ia=Oa.MessageChannel,Ma=Oa.Dispatch,Va=0,La={},Da=function(){var t=+this;if(La.hasOwnProperty(t)){var e=La[t];delete La[t],e()}},Fa=function(t){Da.call(t.data)};ja&&Ta||(ja=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return La[++Va]=function(){Pa("function"==typeof t?t:Function(t),e)},sa(Va),Va},Ta=function(t){delete La[t]},"process"==Tt(Ca)?sa=function(t){Ca.nextTick(ka(Da,t,1))}:Ma&&Ma.now?sa=function(t){Ma.now(ka(Da,t,1))}:Ia?(aa=(ua=new Ia).port2,ua.port1.onmessage=Fa,sa=ka(aa.postMessage,aa,1)):Oa.addEventListener&&"function"==typeof postMessage&&!Oa.importScripts?(sa=function(t){Oa.postMessage(t+"","*")},Oa.addEventListener("message",Fa,!1)):sa="onreadystatechange"in xa("script")?function(t){Ea.appendChild(xa("script")).onreadystatechange=function(){Ea.removeChild(this),Da.call(t)}}:function(t){setTimeout(ka(Da,t,1),0)});var Ra={set:ja,clear:Ta},Ua=s.exports,Na=Ra.set,za=Ua.MutationObserver||Ua.WebKitMutationObserver,Ba=Ua.process,Wa=Ua.Promise,Ga="process"==Tt(Ba),qa={},Ha=K;function Qa(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=Ha(e),this.reject=Ha(n)}qa.f=function(t){return new Qa(t)};var $a,Ya,Ka,Xa,Ja=s.exports.navigator,Za=Ja&&Ja.userAgent||"",tc=g,ec=v,nc=qa,rc=s.exports,ic=p,oc=h,sc=mt.exports("species"),uc=function(t){var e=rc[t];oc&&e&&!e[sc]&&ic.f(e,sc,{configurable:!0,get:function(){return this}})},ac=s.exports,cc=J,lc=Lr,hc=ot,fc=v,dc=K,pc=Sr,vc=kr.exports,mc=ju,gc=Ra.set,yc=function(){var t,e,n,r=function(){var r,i;for(Ga&&(r=Ba.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(Ga)n=function(){Ba.nextTick(r)};else if(!za||Ua.navigator&&Ua.navigator.standalone)if(Wa&&Wa.resolve){var i=Wa.resolve(void 0);n=function(){i.then(r)}}else n=function(){Na.call(Ua,r)};else{var o=!0,s=document.createTextNode("");new za(r).observe(s,{characterData:!0}),n=function(){s.data=o=!o}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}(),bc=qa,_c=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},wc=Za,Ac="Promise",Sc=ac.TypeError,kc=ac.process,Pc=kc&&kc.versions,Ec=Pc&&Pc.v8||"",xc=ac.Promise,Oc="process"==lc(kc),Cc=function(){},jc=Ya=bc.f,Tc=!!function(){try{var t=xc.resolve(1),e=(t.constructor={})[mt.exports("species")]=function(t){t(Cc,Cc)};return(Oc||"function"==typeof PromiseRejectionEvent)&&t.then(Cc)instanceof e&&0!==Ec.indexOf("6.6")&&-1===wc.indexOf("Chrome/66")}catch(t){}}(),Ic=function(t){var e;return!(!fc(t)||"function"!=typeof(e=t.then))&&e},Mc=function(t,e){if(!t._n){t._n=!0;var n=t._c;yc((function(){for(var r=t._v,i=1==t._s,o=0,s=function(e){var n,o,s,u=i?e.ok:e.fail,a=e.resolve,c=e.reject,l=e.domain;try{u?(i||(2==t._h&&Dc(t),t._h=1),!0===u?n=r:(l&&l.enter(),n=u(r),l&&(l.exit(),s=!0)),n===e.promise?c(Sc("Promise-chain cycle")):(o=Ic(n))?o.call(n,a,c):a(n)):c(r)}catch(t){l&&!s&&l.exit(),c(t)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&Vc(t)}))}},Vc=function(t){gc.call(ac,(function(){var e,n,r,i=t._v,o=Lc(t);if(o&&(e=_c((function(){Oc?kc.emit("unhandledRejection",i,t):(n=ac.onunhandledrejection)?n({promise:t,reason:i}):(r=ac.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=Oc||Lc(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},Lc=function(t){return 1!==t._h&&0===(t._a||t._c).length},Dc=function(t){gc.call(ac,(function(){var e;Oc?kc.emit("rejectionHandled",t):(e=ac.onrejectionhandled)&&e({promise:t,reason:t._v})}))},Fc=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),Mc(e,!0))},Rc=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw Sc("Promise can't be resolved itself");(e=Ic(t))?yc((function(){var r={_w:n,_d:!1};try{e.call(t,cc(Rc,r,1),cc(Fc,r,1))}catch(t){Fc.call(r,t)}})):(n._v=t,n._s=1,Mc(n,!1))}catch(t){Fc.call({_w:n,_d:!1},t)}}};Tc||(xc=function(t){pc(this,xc,Ac,"_h"),dc(t),$a.call(this);try{t(cc(Rc,this,1),cc(Fc,this,1))}catch(t){Fc.call(this,t)}},($a=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=Ar(xc.prototype,{then:function(t,e){var n=jc(mc(this,xc));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=Oc?kc.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&Mc(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),Ka=function(){var t=new $a;this.promise=t,this.resolve=cc(Rc,t,1),this.reject=cc(Fc,t,1)},bc.f=jc=function(t){return t===xc||t===Xa?new Ka(t):Ya(t)}),hc(hc.G+hc.W+hc.F*!Tc,{Promise:xc}),kt(xc,Ac),uc(Ac),Xa=f.exports.Promise,hc(hc.S+hc.F*!Tc,Ac,{reject:function(t){var e=jc(this);return(0,e.reject)(t),e.promise}}),hc(hc.S+hc.F*!Tc,Ac,{resolve:function(t){return function(t,e){if(tc(t),ec(e)&&e.constructor===t)return e;var n=nc.f(t);return(0,n.resolve)(e),n.promise}(this,t)}}),hc(hc.S+hc.F*!(Tc&&gi((function(t){xc.all(t).catch(Cc)}))),Ac,{all:function(t){var e=this,n=jc(e),r=n.resolve,i=n.reject,o=_c((function(){var n=[],o=0,s=1;vc(t,!1,(function(t){var u=o++,a=!1;n.push(void 0),s++,e.resolve(t).then((function(t){a||(a=!0,n[u]=t,--s||r(n))}),i)})),--s||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=jc(e),r=n.reject,i=_c((function(){vc(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}});var Uc=function(t,e,n){t.setAttribute(e,n)},Nc=function(t,e,n){var r;t[e]=0===(r=(r=n).trim()).length?r:1===r.length?r.toLowerCase():r.replace(/(^[-_.]+)|([-_.]+$)/g,"").replace(/[-_.\s]+(\w)/g,(function(t,e){return e.toUpperCase()})).replace(/(\d+)(\w)/g,(function(t,e,n){return e+n.toUpperCase()}))},zc=function(t,e,n){if(void 0===n&&(n=!1),null!=t&&null!=t.style){var r="function"==typeof t.style.setProperty,i=n?"important":"";Object.keys(e).forEach((function(n){var o=e[n];r?t.style.setProperty(n,o,i):t.style[n]=o}))}},Bc=function(t,e,n,r,i){return void 0===i&&(i=!1),function(t,e,n,r,i,o){void 0===o&&(o=!1);var s=t.createElementNS("http://www.w3.org/2000/svg",n);return null!=r&&function(t,e){var n="function"==typeof t.setAttribute?Uc:Nc;Object.keys(e).forEach((function(r){n(t,r,e[r])}))}(s,r),null!=i&&zc(s,i,o),s}(t,0,e,n,r,i)},Wc={exports:{}},Gc=function(){var t=new Error("Delay aborted");return t.name="AbortError",t},qc=function(t){var e=t.clearTimeout,n=t.setTimeout,r=t.willResolve;return function(t,i){var o,s,u,a=void 0===i?{}:i,c=a.value,l=a.signal;if(l&&l.aborted)return Promise.reject(Gc());var h=e||clearTimeout,f=function(){h(o),u(Gc())},d=new Promise((function(e,i){s=function(){l&&l.removeEventListener("abort",f),r?e(c):i(c)},u=i,o=(n||setTimeout)(s,t)}));return l&&l.addEventListener("abort",f,{once:!0}),d.clear=function(){h(o),o=null,s()},d}},Hc=function(t){var e=qc(Object.assign({},t,{willResolve:!0}));return e.reject=qc(Object.assign({},t,{willResolve:!1})),e.range=function(t,n,r){return e(function(t,e){return Math.floor(Math.random()*(e-t+1)+t)}(t,n),r)},e},Qc=Hc();Qc.createWithTimers=Hc,Wc.exports=Qc,Wc.exports.default=Qc;var $c=Wc.exports,Yc=function(){};function Kc(){var t={};return t.promise=new Promise((function(e,n){t.resolve=e,t.reject=n})),t}var Xc=function(t,e){var n=Kc(),r=function r(){t.removeEventListener(e,r),n.resolve()};return t.addEventListener(e,r),n.promise.cancel=function(){t.removeEventListener(e,r),n.reject(new Error("Canceled"))},n.promise},Jc=function(t){return new Promise((function(e,n){var r,i,o,s,u,a,c=function(t){return function(e){try{return r.cancel(),i.cancel(),t&&t.call(this,e)}catch(t){return n(t)}}.bind(this)}.bind(this);if(void 0===t&&(t=document),null!=t.body)return e();o=t,s=function(){return null!=o.body},u=Kc(),a=setInterval((function(){s()&&u.resolve()}),20),u.promise.cancel=function(){clearInterval(a),u.reject(new Error("Canceled"))},r=u.promise,i=Xc(t,"DOMContentLoaded"),r.catch(Yc),i.catch(Yc);var l=function(){try{return e()}catch(t){return n(t)}},h=function(t){try{throw t}catch(t){return c(n)(t)}};try{return Promise.resolve(Promise.race([r,i])).then((function(t){try{return c(l)()}catch(t){return h(t)}}),h)}catch(t){h(t)}}))},Zc=function(t){return new Promise((function(e,n){var r;function i(){return null==t.contentWindow||null==t.contentWindow.document?Promise.resolve($c(100)).then((function(t){try{return i}catch(t){return n(t)}}),n):[1]}return(r=function(t){for(;t;){if(t.then)return void t.then(r,n);try{if(t.pop){if(t.length)return t.pop()?o.call(this):t;t=i}else t=t.call(this)}catch(t){return n(t)}}}.bind(this))(i);function o(){return e()}}))},tl=Symbol("data"),el=function(){function t(t){this[tl]=Object.create(null)}var e=t.prototype;return e._get=function(t){return this[tl][t]},e._put=function(t,e){this[tl][t]=e},e._putAll=function(t){for(var e=Object.keys(t),n=0;n<e.length;++n){var r=e[n],i=t[r];this._put(r,i)}},t}(),nl=Symbol("listeners"),rl=function(){function t(){this[nl]=[]}var n=t.prototype;return n.add=function(t,e,n,r){return void 0===r&&(r=null),function(t){return null!=t&&"function"==typeof t.addEventListener}(t)?(null!=r&&(n=n.bind(r)),t.addEventListener(e,n),this[nl].push({target:t,type:e,listener:n}),this):this},n.addMany=function(t,e,n){var r=this;return void 0===n&&(n=null),Object.keys(e).forEach((function(i){return r.add(t,i,e[i],n)})),this},n.removeAll=function(){return this[nl].splice(0).forEach((function(t){var e=t.target,n=t.type,r=t.listener;e.removeEventListener(n,r)})),this},e(t,[{key:"count",get:function(){return this[nl].length}}]),t}();ot(ot.S,"Object",{setPrototypeOf:wi.set});var il=ye,ol=ho;function sl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ul(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}bs("getPrototypeOf",(function(){return function(t){return ol(il(t))}}));var al=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";sl(this,e);var n=ul(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return Object.defineProperty(n,"message",{configurable:!0,enumerable:!1,value:t,writable:!0}),Object.defineProperty(n,"name",{configurable:!0,enumerable:!1,value:n.constructor.name,writable:!0}),Error.hasOwnProperty("captureStackTrace")?(Error.captureStackTrace(n,n.constructor),ul(n)):(Object.defineProperty(n,"stack",{configurable:!0,enumerable:!1,value:new Error(t).stack,writable:!0}),n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t,e}(Error)),cl=function(t){function e(e){var n;return(n=t.call(this,e)||this).name="CancelError",n}return n(e,t),e}(al),ll=function(t){function e(){var e;return(e=t.call(this,"Guest VPAID not available")||this).name="GuestNotAvailableError",e}return n(e,t),e}(al),hl=function(t){function e(e,n,r,i){var o;return void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=null),(o=t.call(this,e)||this).message=e,o.code=n,o.subject=i,o.cause=r,o}return n(e,t),e.prototype.toString=function(){return"VAST error"+(null==this.code?"":" "+this.code)+(null==this.message||0===this.message.length?" (no error message)":": "+this.message)},e}(al),fl=function(t){function e(e){var n;return(n=t.call(this,'Method "'+e+'" not available',405)||this).name="MethodNotAvailableError",n}return n(e,t),e}(hl),dl=/\/js\/vpaid-transformer\/[^/]+\/[a-z0-9-]+\.js#/,pl=null,vl=function(){return null==pl&&(pl=document.currentScript||function(){for(var t=document.querySelectorAll("script"),e=null,n=t.length-1;n>=0&&null==e;){var r=t[n],i=r.src;null!=i&&dl.test(i)&&(e=r),--n}return e}()),pl},ml=Me,gl=le,yl=g,bl=s.exports.Reflect,_l=bl&&bl.ownKeys||function(t){var e=ml.f(yl(t)),n=gl.f;return n?e.concat(n(t)):e},wl=p,Al=C,Sl=function(t,e,n){e in t?wl.f(t,e,Al(0,n)):t[e]=n},kl=_l,Pl=Ft,El=Ne,xl=Sl;ot(ot.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=Pl(t),i=El.f,o=kl(r),s={},u=0;o.length>u;)void 0!==(n=i(r,e=o[u++]))&&xl(s,e,n);return s}});var Ol=ot,Cl=_r(2);Ol(Ol.P+Ol.F*!ds([].filter,!0),"Array",{filter:function(t){return Cl(this,t,arguments[1])}});var jl=["caller","callee","arguments"],Tl=function(t,e){var n={enumerable:!1,writable:!1,value:t[e]};Object.defineProperty(t,e,n)},Il=ot,Ml=_r(5),Vl="find",Ll=!0;Vl in[]&&Array(1).find((function(){Ll=!1})),Il(Il.P+Il.F*Ll,"Array",{find:function(t){return Ml(this,t,arguments.length>1?arguments[1]:void 0)}}),To(Vl);var Dl=function(t){if(null==t||""===t)return null;if("undefined"!=typeof URL&&URL instanceof Function)return new URL(t).hostname;var e=document.createElement("a");return e.href=t,e.hostname},Fl=function(t){return function(e){for(e=""+e;e.length<t;)e="0"+e;return e}},Rl=Fl(2),Ul=Fl(3),Nl=function(t){var e=t.domainLookupStart,n=t.domainLookupEnd,r=t.connectStart,i=t.connectEnd,o=t.secureConnectionStart,s=t.requestStart,u=t.responseStart,a=t.responseEnd,c={dns:Math.round(n-e),tcpHandshake:Math.round(i-r),response:Math.round(a-u),requestStartUntilResponseEnd:Math.round(a-s)};return o>0&&(c.secureConnection=Math.round(i-o)),c},zl=function(t){var e=function(t){var e=null;try{e=performance.getEntriesByType("resource").find((function(e){return e.name===t}))}catch(t){}return e}(t);return null==e?null:Nl(e)},Bl=/^[^:]+:\/\/tpc\.googlesyndication\.com\/pagead\/js\/loader/,Wl=/^[^:]+:\/\/imasdk\.googleapis\.com\/js\/sdkloader\/vpaid_adapter\.js\b/,Gl=function(t){return Wl.test(t)},ql=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=document),new Promise((function(r,i){var o=n.createElement("script");o.addEventListener("load",(function(){return r(o)})),o.addEventListener("error",(function(){return i(new hl('Failed to insert "'+t+'"',405))})),o.src=t,o.crossOrigin=e,n.getElementsByTagName("head")[0].appendChild(o)}))},Hl=Eu,Ql=Vt,$l=function(t,e,n){if(Hl(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(Ql(t))},Yl=mt.exports("match"),Kl=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Yl]=!1,!"/./"[t](e)}catch(t){}}return!0},Xl=ot,Jl=Wt,Zl=$l,th="startsWith",eh="".startsWith;Xl(Xl.P+Xl.F*Kl(th),"String",{startsWith:function(t){var e=Zl(this,t,th),n=Jl(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return eh?eh.call(e,r,n):e.slice(n,n+r.length)===r}});var nh=function(t){var e=0,n=null;return function(){if(0===e)try{for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n=t.apply(this,i),e=1}catch(t){n=t,e=2}if(2===e)throw n;return n}},rh=function(){return(new Date).getTime()},ih={exports:{}};!function(t){!function(e,n){t.exports?t.exports=n():e.Queue=n()}(o,(function(){var t="undefined"!=typeof Promise?Promise:function(){return{then:function(){throw new Error("Queue.configure() before use Queue")}}},e=function(){};function n(t,e,n){this.options=n=n||{},this.pendingPromises=0,this.maxPendingPromises=void 0!==t?t:1/0,this.maxQueuedPromises=void 0!==e?e:1/0,this.queue=[]}return n.configure=function(e){t=e},n.prototype.add=function(n){var r=this;return new t((function(t,i,o){r.queue.length>=r.maxQueuedPromises?i(new Error("Queue limit reached")):(r.queue.push({promiseGenerator:n,resolve:t,reject:i,notify:o||e}),r._dequeue())}))},n.prototype.getPendingLength=function(){return this.pendingPromises},n.prototype.getQueueLength=function(){return this.queue.length},n.prototype._dequeue=function(){var e=this;if(this.pendingPromises>=this.maxPendingPromises)return!1;var n,r=this.queue.shift();if(!r)return this.options.onEmpty&&this.options.onEmpty(),!1;try{this.pendingPromises++,(n=r.promiseGenerator(),n&&"function"==typeof n.then?n:new t((function(t){t(n)}))).then((function(t){e.pendingPromises--,r.resolve(t),e._dequeue()}),(function(t){e.pendingPromises--,r.reject(t),e._dequeue()}),(function(t){r.notify(t)}))}catch(t){e.pendingPromises--,r.reject(t),e._dequeue()}return!0},n}))}(ih);var oh=ih.exports;function sh(t){return t.charAt(0).toUpperCase()+t.substr(1)}var uh=Symbol("plugins"),ah=Symbol("queue"),ch=Symbol("logger"),lh=function(){function t(){this[uh]=[],this[ah]=new oh(1),this.dispose=nh(this.dispose)}var n=t.prototype;return n.addPlugin=function(t){this[uh].push(t)},n.dispose=function(){var t=this;return Promise.all(this._runStageHooks("dispose",[])).then((function(){return t[ch].info("Plugin disposal finished")}))},n.runPhase=function(t,e,n,r){return new Promise(function(i,o){var s=this;return void 0===r&&(r=null),i(this[ah].add((function(){return new Promise((function(i,o){return i(s._runPhase0(t,e,n,r))}))})))}.bind(this))},n.runPhaseSync=function(t,e,n,r){var i=sh(t);this._runStageHooks("before"+i+"Sync",e);var o=n.apply(void 0,e);return this._runStage("after"+i,[].concat(e,[o])).catch(r),o},n._runPhase0=function(t,e,n,r){return new Promise(function(i,o){var s,u,a;if(null!=r&&r())return o(new Error("Phase "+t+" canceled"));s=sh(t);var c=function(){try{return u=n.apply(void 0,e),Promise.resolve(new Promise((function(t,e){return Is(u)?Promise.resolve(u).then(t,e):t(u)}))).then(function(t){try{return a=t,Promise.resolve(this._runStage("after"+s,[].concat(e,[u]))).then((function(t){try{return i(a)}catch(t){return o(t)}}),o)}catch(t){return o(t)}}.bind(this),o)}catch(t){return o(t)}}.bind(this),l=function(t){try{if(t instanceof cl)return i(null);throw t}catch(t){return o(t)}};try{return Promise.resolve(this._runStage("before"+s,e)).then((function(t){try{return c()}catch(t){return l(t)}}),l)}catch(t){l(t)}}.bind(this))},n._runStage=function(t,e){return new Promise(function(n,r){return n(Promise.all(this._runStageHooks(t,e)))}.bind(this))},n._runStageHooks=function(t,e){return this[uh].filter((function(e){return null!=e[t]})).map((function(n){return n[t].apply(n,e)})).filter(Is)},e(t,[{key:"plugins",get:function(){return this[uh].slice()}}]),t}(),hh=function(t,e,n){void 0===n&&(n="Timed out");var r=$c.reject(e,{value:new Error(n)});return r.catch(Yc),function(t,e){return new Promise((function(n,r){var i;void 0===e&&(e=function(){});var o=function(t){try{return Promise.resolve(e()).then((function(e){try{throw t}catch(t){return r(t)}}),r)}catch(t){return r(t)}};try{return Promise.resolve(t).then((function(t){try{return i=t,function(){try{return Promise.resolve(e()).then((function(t){try{return n(i)}catch(t){return r(t)}}),r)}catch(t){return r(t)}}()}catch(t){return o(t)}}),o)}catch(t){o(t)}}))}(Promise.race([t,r]),(function(){r.clear()}))},fh={timestamp:function(){return encodeURIComponent((e=(t=new Date).getTimezoneOffset(),r=((n=Math.floor(e/60))<0?"+"+Rl(-n):"-"+Rl(n))+":"+Rl(e%60),t.getFullYear()+"-"+Rl(t.getMonth()+1)+"-"+Rl(t.getDate())+"T"+Rl(t.getHours())+":"+Rl(t.getMinutes())+":"+Rl(t.getSeconds())+"."+Ul(t.getMilliseconds())+r));var t,e,n,r},cachebusting:function(){return(""+ca()).substring(0,8)},errorcode:function(t){var e=t.errorcode;return null!=e?e:900},serverside:function(){return"0"},apiframeworks:function(){return"2"},vastversions:function(){return"2,3,5,6,7,8,11,12,13,14"},verificationvendors:function(){return""},extensions:function(){return""}},dh=/\[([A-Z_]+)]/g,ph=function(t){var e,n=((e={})[91]=t.dns,e[92]=t.tcpHandshake,e[94]=t.response,e[95]=t.requestStartUntilResponseEnd,e);return t.secureConnectionStart>0&&(n[93]=t.secureConnectionStart),n},vh=h,mh=ce,gh=Ft,yh=he.f,bh=function(t){for(var e,n=gh(t),r=mh(n),i=r.length,o=0,s=[];i>o;)e=r[o++],vh&&!yh.call(n,e)||s.push([e,n[e]]);return s};ot(ot.S,"Object",{entries:function(t){return bh(t)}});var _h,wh,Ah=ot,Sh=K,kh=ye,Ph=l,Eh=[].sort,xh=[1,2,3];Ah(Ah.P+Ah.F*(Ph((function(){xh.sort(void 0)}))||!Ph((function(){xh.sort(null)}))||!ds(Eh)),"Array",{sort:function(t){return void 0===t?Eh.call(kh(this)):Eh.call(kh(this),Sh(t))}});var Oh=Math.sqrt(2),Ch=["video/3gpp"],jh=((_h={}).vpaid=1,_h.video=2,_h.vast=3,_h),Th=function(t){return t.width*t.height},Ih=function(t){return t.reduce((function(t,e){return Th(e)<Th(t)?e:t}))},Mh=function(t){return t.reduce((function(t,e){return Th(e)>Th(t)?e:t}))},Vh=function(t,e){for(var n=e.selector,r=e.filter,i=null,o=0;o<t.length&&null==i;){var s=t[o].filter(r);s.length>0&&(i=n(s)),++o}return i},Lh=function(t){return t>0?t:1/0},Dh=function(t,e,n,r){var i=function(t,e,n){for(var r={},i=0;i<t.length;++i){var o=t[i].type;Object.prototype.hasOwnProperty.call(r,o)||(r[o]=e.canPlayType(o))}for(var s={},u=0;u<n.length;++u)s[n[u]]=[];for(var a=0;a<t.length;++a){var c=t[a],l=r[c.type];null!=s[l]&&s[l].push(c)}return s}(t,n,["probably"].concat(r?["maybe"]:[])),o=i.probably,s=void 0===o?[]:o,u=i.maybe,a=void 0===u?[]:u;if(s.length+a.length===0)return null;for(var c=null,l=0;l<e.length&&null==c;)c=Vh([s,a],e[l]),++l;return c},Fh=((wh={}).vast=function(t){return t[0]},wh.vpaid=function(t){return function(t){var e=t.filter(wa);return e.length>0?Mh(e):null}(t)},wh.video=function(t,e,n){var r,i=t.filter((function(t){var e=t.type;return Ch.indexOf(e)<0})),o=i.length>0?i:t;return null!=n&&"function"==typeof n.canPlayType&&(r=Dh(o,e,n,!1)),null==r&&(r=Dh(o,e,document.createElement("video"),!0)),r},wh),Rh=function(t,e){return jh[t]-jh[e]},Uh=J,Nh=ot,zh=ye,Bh=Er,Wh=Tr,Gh=Wt,qh=Sl,Hh=Ur;Nh(Nh.S+Nh.F*!gi((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,r,i,o=zh(t),s="function"==typeof this?this:Array,u=arguments.length,a=u>1?arguments[1]:void 0,c=void 0!==a,l=0,h=Hh(o);if(c&&(a=Uh(a,u>2?arguments[2]:void 0,2)),null==h||s==Array&&Wh(h))for(n=new s(e=Gh(o.length));e>l;l++)qh(n,l,c?a(o[l],l):o[l]);else for(i=h.call(o),n=new s;!(r=i.next()).done;l++)qh(n,l,c?Bh(i,a,[r.value,l],!0):r.value);return n.length=l,n}}),bs("getOwnPropertyNames",(function(){return Ie.f}));var Qh={exports:{}};!function(t,e){function n(t,e){var n=[],r=[];return null==e&&(e=function(t,e){return n[0]===e?"[Circular ~]":"[Circular ~."+r.slice(0,n.indexOf(e)).join(".")+"]"}),function(i,o){if(n.length>0){var s=n.indexOf(this);~s?n.splice(s+1):n.push(this),~s?r.splice(s,1/0,i):r.push(i),~n.indexOf(o)&&(o=e.call(this,i,o))}else n.push(o);return null==t?o:t.call(this,i,o)}}(t.exports=function(t,e,r,i){return JSON.stringify(t,n(e,i),r)}).getSerialize=n}(Qh);var $h=Qh.exports;function Yh(t){return null==t?null:Object.getPrototypeOf(Object(t))}var Kh=function t(e){if(null==e)return e;var n=Object.keys(e);if(1!==n.length||"message"!==n[0])return e;var r=e.message;return Array.isArray(r)&&1===r.length&&(r=r[0]),t(r)},Xh=function t(e,n){var r,i;switch(typeof e){case"object":return null==e?e:null!=e.nodeType?"[DOM "+function(t){if(null==t)return"null";if(1!==t.nodeType)return"node";try{var e=(t.nodeName||"unknown").toLowerCase();return null!=t.id&&(e+="#"+t.id),t.classList&&t.classList.length>0&&(e+="."+Array.from(t.classList).join(".")),e}catch(t){return"err"}}(e)+"]":n.indexOf(e)>=0?"[Circular]":(n.push(e),r=Array.isArray(e)?[]:{},i=function(t){for(var e=[],n=Yh(t);n;)e.push(n),n=Yh(n);return e}(e).filter((function(t){return t!==Object.prototype})),Kh([e].concat(i).map((function(t){return Object.getOwnPropertyNames(t)})).reduce((function(r,i){return i.forEach((function(i){try{e instanceof Error&&"stack"===i||(r[i]=t(e[i],n))}catch(t){r[i]="[Error: "+(t.message||t)+"]"}})),r}),r)));case"function":if(n.length>0)return;return"[Function "+(e.name||"anonymous")+"]";default:return e}},Jh=function(t){try{var e=Xh(t,[])||t;switch(typeof e){case"string":return e;case"number":return""+e;default:return $h(e)}}catch(t){return"[Error]"}},Zh=rh(),tf=function(){return rh()-Zh},ef=Symbol("runtime"),nf=Symbol("init"),rf=Symbol("setGuest"),of=Symbol("ensureContainer"),sf=Symbol("slot"),uf=Symbol("videoSlot"),af=Symbol("phaser"),cf=Symbol("pubSub"),lf=Symbol("clickThroughUrl"),hf=Symbol("adCompanions"),ff=Symbol("options"),df=Symbol("internal"),pf=Symbol("adParameters"),vf=Symbol("config"),mf=Symbol("logger"),gf=function(){function t(){this[mf]=function(t,e){void 0===e&&(e={});var n=function(t){return null!=t&&"string"!=typeof t?(cs.has(t)||cs.set(t,ls++),t=("function"==typeof t?t.name:t.constructor.name)+"@"+cs.get(t)):"string"==typeof t&&(t=""+t),t}(t),r="test"===us?"error":"log",i=[e.level,ss,r].reduce((function(t,e){return hs(t)&&!hs(e)?e:t}));return new as(n,i)}(this),this[vf]=null,this[ef]=null,this.dispose=nh(this.dispose)}var n=t.prototype;return n.init=function(){},n.dispose=function(){},n.publish=function(t,e){return void 0===e&&(e=[]),this[ef].publish(t,e,"plugin-"+this.constructor.id)},n.track=function(){var t;(t=this[ef]).track.apply(t,arguments)},n.trackPixel=function(t,e){this[ef].trackPixel(t,e)},n.trackError=function(){var t;(t=this[ef]).trackError.apply(t,arguments)},n.setConfig=function(t){this[vf]=Object.assign({},this.constructor.defaultConfig,this[vf],t)},n[nf]=function(t,e){if(null!=this[vf])throw new Error("Already configured");this[ef]=t,this.setConfig(e),this.init()},e(t,[{key:"runtime",get:function(){return this[ef]}},{key:"config",get:function(){return this[vf]}},{key:"host",get:function(){return this[ef].host}},{key:"hostInfo",get:function(){return this[ef].hostInfo}},{key:"guest",get:function(){return this[ef].guest}},{key:"logger",get:function(){return this[mf]}}],[{key:"id",get:function(){throw new Error("Method is abstract")}},{key:"defaultConfig",get:function(){return null}}]),t}(),yf=nf,bf=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e}(gf),_f=Object.create(null),wf=new(function(){function t(){this._contents=Object.create(null)}var r=t.prototype;return r.register=function(t){var e=t.id;if(null!=this._contents[e]&&this._contents[e]!==t)throw new Error('Plugin "'+e+'" already registered');this._provisionParent(e),this._contents[e]=t},r.create=function(t,e,n){if(null==this._contents[t])throw new Error('Plugin "'+t+'" not registered');var r=new(0,this._contents[t]);return r[yf](n,e),r},r._provisionParent=function(t){var r=t.indexOf(".");if(!(r<0)){var i=t.substr(0,r);null==this._contents[i]&&(this._contents[i]=function(t){return null==_f[t]&&(_f[t]=function(r){function i(){return r.apply(this,arguments)||this}return n(i,r),e(i,null,[{key:"id",get:function(){return t}}]),i}(bf)),_f[t]}(i))}},t}()),Af=Symbol("subscribers"),Sf=Symbol("published"),kf=Symbol("options"),Pf=function(){function t(t){void 0===t&&(t={}),this[Af]={},this[Sf]=[],this[kf]=t}var n=t.prototype;return n.subscribe=function(t,e,n){void 0===n&&(n=null),null==this[Af][e]&&(this[Af][e]=[]),this[Af][e].push({fn:t,ctx:n})},n.unsubscribe=function(t,e){var n=this[Af][e];if(null!=n)for(var r=n.length-1;r>=0;--r)n[r].fn===t&&n.splice(r,1)},n.publish=function(t,e){if(void 0===e&&(e=[]),!(Ps.indexOf(t)>=0&&this.didPublish(t))){var n=this._normalizeEventArgs(t,e);if(this[Sf].push({name:t,args:e}),null!=this[Af][t])for(var r=this[Af][t].slice(),i=0;i<r.length;++i){var o=r[i],s=o.fn,u=o.ctx,a=null!=u&&!0===u[df];s.apply(u,a?e:n)}}},n.didPublish=function(t){return this[Sf].some((function(e){var n=e.name;return t===n}))},n._normalizeEventArgs=function(t,e){if(t===ks.AdClickThru){var n=e[0],r=e[1],i=e[2];return["string"==typeof n?n:void 0,null!=r?r:"",null==i||!!i]}if(t===ks.AdError){var o=e[0],s=e[1];return!0===this[kf].sendErrorInfo?[o,(u=s,a={},Object.keys(u).filter((function(t){return null!=u[t]})).forEach((function(t){a[t]=u[t]})),a)]:[o]}return e;var u,a},e(t,[{key:"published",get:function(){return this[Sf]}},{key:"options",get:function(){return this[kf]}}]),t}(),Ef="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAAAAAA6fptVAAAAAXNCSVQI5gpbmQAAAApJREFUCB1jYAAAAAIAAc/INeUAAAAASUVORK5CYII=",xf="cdn.doubleverify.com",Of="rtb0.doubleverify.com",Cf="https://c.amazon-adsystem.com/vfw/dv",jf="https://"+xf+"/dvbs_src.js",Tf=[{id:"boot",pattern:jf+"?"},{id:"src",pattern:"//"+xf+"/dvbs_src_internal"},{id:"verify",pattern:"//"+Of+"/verify.js?"}],If={tagtype:"video",dvtagver:"6.1.src",tagformat:"2",msrapi:"jsVpaid",dvp_zjsver:"0.21.11"},Mf=["ctx","cmp","sid","plc","advid","crt","dup","adsrv","tagtype"];function Vf(){var t={};return t.promise=new Promise((function(e,n){t.resolve=e,t.reject=n})),t}var Lf={exports:{}},Df=function(){var t=new Error("Delay aborted");return t.name="AbortError",t},Ff=function(t){var e=t.clearTimeout,n=t.setTimeout,r=t.willResolve;return function(t,i){var o,s,u,a=void 0===i?{}:i,c=a.value,l=a.signal;if(l&&l.aborted)return Promise.reject(Df());var h=e||clearTimeout,f=function(){h(o),u(Df())},d=new Promise((function(e,i){s=function(){l&&l.removeEventListener("abort",f),r?e(c):i(c)},u=i,o=(n||setTimeout)(s,t)}));return l&&l.addEventListener("abort",f,{once:!0}),d.clear=function(){h(o),o=null,s()},d}},Rf=function(t){var e=Ff(Object.assign({},t,{willResolve:!0}));return e.reject=Ff(Object.assign({},t,{willResolve:!1})),e.range=function(t,n,r){return e(function(t,e){return Math.floor(Math.random()*(e-t+1)+t)}(t,n),r)},e},Uf=Rf();Uf.createWithTimers=Rf,Lf.exports=Uf,Lf.exports.default=Uf;var Nf=Lf.exports,zf=Symbol("name"),Bf=Symbol("states"),Wf=Symbol("infos"),Gf=Symbol("state"),qf=Symbol("initialState"),Hf=Symbol("timings"),Qf=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=void 0),this[zf]=t,this[Bf]=[],this[Wf]=[],this[Hf]=[],this[qf]=e,this.set(e,n)}var n=t.prototype;return n.getInfo=function(t){if(t<=this.state)return this[Wf][t]},n.set=function(t,e){void 0===e&&(e=void 0);var n=this[Gf];if(t<n)throw new Error("Invalid "+this[zf]+" state change: "+n+" â "+t);if(t!==n){this._ensureStates(t);for(var r=n+1;r<t;++r)this[Bf][r].resolve();this[Bf][t].resolve(e),this[Wf][t]=e,this[Hf][t]=rh(),this[Gf]=t,this[qf]}},n.maybeSet=function(t,e){return void 0===e&&(e=void 0),!this.reached(t)&&(this.set(t,e),!0)},n.reach=function(t){return new Promise(function(e,n){return this._ensureStates(t),e(this[Bf][t].promise)}.bind(this))},n.reached=function(t){return t<=this.state},n.time=function(t){return this[Hf][t]},n.timeBetween=function(t,e){if(t>e)throw new Error("toState ("+e+") must be greater than or equal to fromState ("+t+")");return this.time(e)-this.time(t)},n._ensureStates=function(t){for(var e=this[Bf].length;e<=t;++e)this[Bf].push(Vf()),this[Wf].push(void 0),this[Hf].push(void 0)},e(t,[{key:"name",get:function(){return this[zf]}},{key:"state",get:function(){return this[Gf]}}]),t}(),$f=ot,Yf=$l,Kf="includes";$f($f.P+$f.F*Kl(Kf),"String",{includes:function(t){return!!~Yf(this,t,Kf).indexOf(t,arguments.length>1?arguments[1]:void 0)}});var Xf=ot,Jf=Xt(!0);Xf(Xf.P,"Array",{includes:function(t){return Jf(this,t,arguments.length>1?arguments[1]:void 0)}}),To("includes");var Zf=Symbol("facade"),td=Symbol("proxyCb"),ed=function(){function t(t){this[Zf]=t,Zu({href:"//"+xf,rel:"preconnect",pr:"1.0"})}var n=t.prototype;return n.start=function(){return new Promise(function(t,e){var n=this;return this[td]=new fa((function(){return n.facade.proxy})),this.facade.config.adid=this[td].name,t()}.bind(this))},n.decide=function(){return new Promise((function(t,e){return t(3)}))},n.enableDecisionTimeout=function(){return new Promise((function(t,e){return t()}))},n.onStartCreativeLoad=function(){},n.dispose=function(){return new Promise(function(t,e){return null!=this[td]&&(this[td].remove(),this[td]=null),t()}.bind(this))},n._insertScript=function(t,e,n){return new Promise(function(r,i){var o,s,u;if(o=this,void 0===n&&(n="?"),null!=e)for(var a in s={},e.forEach((function(t){null!=o.facade.config[t]&&(s[t]=o.facade.config[t])})),this.facade.config)Object.prototype.hasOwnProperty.call(this.facade.config,a)&&!e.includes(a)&&(s[a]=this.facade.config[a]);else s=this.facade.config;return u=""+t+n+function(t){var e=Object.keys(t);if(0===e.length)return"";for(var n=encodeURIComponent(e[0])+"="+encodeURIComponent(t[e[0]]),r=1;r<e.length;++r)n+="&"+encodeURIComponent(e[r])+"="+encodeURIComponent(t[e[r]]);return n}(s),Promise.resolve(ql(u)).then((function(t){try{return r()}catch(t){return i(t)}}),i)}.bind(this))},e(t,[{key:"facade",get:function(){return this[Zf]}},{key:"logger",get:function(){return this.facade.logger}}]),t}(),nd=Symbol("state"),rd=Symbol("recommendationFromDvCb"),id=Symbol("ackConfirmationFromDvCb"),od=Symbol("timedOut"),sd=Symbol("shouldAcknowledge"),ud=Symbol("timingMonitorInterval"),ad=Symbol("timingMonitorSeen"),cd=function(t,e){return t.startsWith("//")?e.startsWith("https:"+t)||e.startsWith("http:"+t):e.startsWith(t)},ld=function(t){function e(e){var n;return(n=t.call(this,e)||this)[nd]=new Qf("blocking-state"),n[rd]=null,n[id]=null,n[od]=!1,n[sd]=!1,n._scheduleAndProcessRecommendationTimeout=nh(n._scheduleAndProcessRecommendationTimeout),Zu({href:"//"+Of,rel:"preconnect",pr:"1.0"}),Zu({href:"//tps.doubleverify.com",rel:"preconnect",pr:"1.0"}),n}n(e,t);var r=e.prototype;return r.start=function(){return new Promise(function(e,n){var r;return Promise.resolve(t.prototype.start.call(this)).then(function(t){try{return this[rd]=new fa(this._processRecommendationFromDv.bind(this)),this.facade.config.DVP_DCB=this[rd].name,this[nd].set(1),this._startTimingMonitor(),r=null!=this.facade.config.proxy?Cf+"/advb.js":jf,Promise.resolve(this._insertScript(r,Mf)).then(function(t){try{return this._processTimings(),e()}catch(t){return n(t)}}.bind(this),n)}catch(t){return n(t)}}.bind(this),n)}.bind(this))},r.onStartCreativeLoad=function(t){null==t||null!=t.poster&&""!==t.poster||(t.poster=Ef)},r.decide=function(){return new Promise(function(t,e){return t(this[nd].reach(2))}.bind(this))},r.enableDecisionTimeout=function(){return new Promise(function(t,e){return this._scheduleAndProcessRecommendationTimeout(),t()}.bind(this))},r.dispose=function(){return new Promise(function(e,n){if(this[nd].reached(1))return Promise.resolve(this.enableDecisionTimeout()).then(function(t){try{if(this[sd]&&!this[nd].reached(3))return Promise.resolve(this[nd].reach(3)).then(function(t){try{return e.call(this)}catch(t){return n(t)}}.bind(this),n);function e(){return r.call(this)}return e.call(this)}catch(t){return n(t)}}.bind(this),n);function r(){return null!=this[rd]&&(this[rd].remove(),this[rd]=null),null!=this[id]&&(this[id].remove(),this[id]=null),this._processTimings(),this._disposeTimingMonitor(),Promise.resolve(t.prototype.dispose.call(this)).then((function(t){try{return e()}catch(t){return n(t)}}),n)}return r.call(this)}.bind(this))},r._getBlockingTimeout=function(){var t=this.facade.config.blkto,e=null!=t?parseInt(t,10):900;return isNaN(e)?900:Math.min(Math.max(e,100),900)},r._scheduleAndProcessRecommendationTimeout=function(){return new Promise(function(t,e){var n,r,i;return Promise.resolve(this[nd].reach(1)).then(function(o){try{if(n=this[nd].time(1),r=this._getBlockingTimeout(),(i=n+r-rh())>0)return Promise.resolve(Nf(i)).then(function(t){try{return s.call(this)}catch(t){return e(t)}}.bind(this),e);function s(){return this[od]=this[nd].maybeSet(2,"block"===this.facade.config.blktoa?1:2),this[od]&&(this.facade.timedOut=this[od]),t()}return s.call(this)}catch(t){return e(t)}}.bind(this),e)}.bind(this))},r._processRecommendationFromDv=function(t,e){this[sd]=!0,this[nd].maybeSet(2,t),this._sendRecommendationAckToDv(e,rh())},r._sendRecommendationAckToDv=function(t,e){return new Promise(function(n,r){var i,o,s,u,a,c,l,h,f;return i=this,Promise.resolve(new Promise(function(t,e){return this.facade.creative.reached(3)?t([!1,!1]):Promise.resolve(Promise.race([this.facade.decide().then((function(t){return!!t&&i.facade.creative.reach(1).then((function(){return!0}))})),this.facade.creative.reach(3).then((function(){return!1}))])).then(function(n){try{return t([n,!this[od]])}catch(t){return e(t)}}.bind(this),e)}.bind(this))).then(function(i){try{s=(o=i)[0],u=o[1],a=this.facade.creative.time(1)||-1,c=this.facade.creative.time(2)||-1,l=Vf(),this[id]=new fa((function(){l.resolve()})),h=[s,u,a,c,e,this[id].name];var d=function(){try{return this[nd].set(3),n()}catch(t){return r(t)}}.bind(this),p=function(t){try{return d()}catch(t){return r(t)}};try{return(f=new fa(t)).invoke.apply(f,h),Promise.resolve(Promise.race([l.promise,Nf(500)])).then((function(t){try{return d()}catch(t){return p()}}),p)}catch(t){p()}}catch(t){return r(t)}}.bind(this),r)}.bind(this))},r._startTimingMonitor=function(){this[ad]=Tf.map((function(){return!1})),this[ud]=setInterval(this._processTimings.bind(this),250)},r._disposeTimingMonitor=function(){null!=this[ud]&&(clearInterval(this[ud]),this[ud]=null,this[ad]=null)},r._processTimings=function(){var t;try{t=performance.getEntriesByType("resource")}catch(t){return void this._disposeTimingMonitor()}for(var e=0;e<t.length;++e)for(var n=t[e],r=0;r<Tf.length;++r){var i=Tf[r],o=i.id,s=i.pattern;null!=this[ad]&&!this[ad][r]&&cd(s,n.name)&&(this[ad][r]=!0,this.facade.onScriptResourceTiming("dvbs-"+o,n))}null!=this[ad]&&this[ad].every(Boolean)&&this._disposeTimingMonitor()},e}(ed),hd=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){return new Promise(function(e,n){var r,i;return Promise.resolve(t.prototype.start.call(this)).then(function(t){try{return null!=this.facade.config.proxy?(r=null!=this.facade.config.static?this.facade.config.static:Cf,r+="/advm.js"):r="https://cdn.doubleverify.com/dvtp_src.js",Promise.resolve(this.facade.creative.reach(1)).then(function(t){try{return i="0"===this.facade.config.scripthash?"?":"#",Promise.resolve(this._insertScript(r,Mf,i)).then((function(t){try{return e()}catch(t){return n(t)}}),n)}catch(t){return n(t)}}.bind(this),n)}catch(t){return n(t)}}.bind(this),n)}.bind(this))},e}(ed),fd=function(t){return new(t.blockingEnabled?ld:hd)(t)},dd=Symbol("logger"),pd=Symbol("config"),vd=Symbol("proxy"),md=Symbol("mode"),gd=Symbol("decision"),yd=Symbol("createMode"),bd=Symbol("timedOut"),_d=Symbol("creativeState"),wd=function(){function t(t){void 0===t&&(t=fd),this[_d]=new Qf("dvf-creative"),this[gd]=Vf(),this[yd]=t,this[md]=null,this[bd]=!1,this.start=nh(this.start),this._determineDecision=nh(this._determineDecision),this.dispose=nh(this.dispose)}var n=t.prototype;return n.start=function(t,e){return new Promise(function(n,r){this[vd]=e,this[pd]=Object.assign({},t,If),null!=t.dvtagver&&(this[pd].dvtagver=t.dvtagver);var i=function(){try{return n()}catch(t){return r(t)}},o=function(t){try{return this[gd].reject(t),i()}catch(t){return r(t)}}.bind(this);try{return this[md]=new this[yd](this),Promise.resolve(this[md].start()).then((function(t){try{return i()}catch(t){return o(t)}}),o)}catch(t){o(t)}}.bind(this))},n.decide=function(){return new Promise(function(t,e){return null==this[md]?e(new Error("Not started yet")):(this._awaitAndResolveDecision(),t(this[gd].promise))}.bind(this))},n.decideWithTimeout=function(){return new Promise(function(t,e){return null==this[md]?e(new Error("Not started yet")):(this[md].enableDecisionTimeout(),t(this.decide()))}.bind(this))},n.onStartCreativeLoad=function(t){null!=this[md]&&this[md].onStartCreativeLoad(t),this.creative.maybeSet(1)},n.onEndCreativeLoad=function(){this.creative.maybeSet(2)},n.onScriptResourceTiming=function(t,e){var n={91:t},r=Nl(e),i=ph(r);this.track("timing",n,i,!0)},n.dispose=function(){return new Promise(function(t,e){if(this.creative.maybeSet(3),null!=this[md])return Promise.resolve(this[md].dispose()).then(function(t){try{return this[md]=null,n.call(this)}catch(t){return e(t)}}.bind(this),e);function n(){return t()}return n.call(this)}.bind(this))},n._awaitAndResolveDecision=function(){return new Promise(function(t,e){var n;return Promise.resolve(this[md].decide()).then(function(r){try{return n=1!==r||this.dryRun,this[gd].resolve(n),t()}catch(t){return e(t)}}.bind(this),e)}.bind(this))},n.track=function(){},e(t,[{key:"logger",get:function(){return this[dd]}},{key:"blockingEnabled",get:function(){return"1"===this[pd].blk}},{key:"dryRun",get:function(){return"1"===this[pd].dry}},{key:"timedOut",get:function(){return this[bd]},set:function(t){this[bd]=t}},{key:"creative",get:function(){return this[_d]}},{key:"config",get:function(){return this[pd]}},{key:"proxy",get:function(){return this[vd]}}]),t}(),Ad=Symbol("plugin"),Sd=Symbol("disposed"),kd=sf,Pd=uf,Ed=function(){function t(t){if(null==t)throw new Error("Must specify the plugin");this[Ad]=t,this[Sd]=!1}var e=t.prototype;return e.dispose=function(){this[Sd]=!0},e.getAdVolume=function(){var t=this;return this._genericCall("getAdVolume",(function(){return t[Ad].host.getAdVolume()}),-1)},e.getAdDuration=function(){var t=this;return this._genericCall("getAdDuration",(function(){return t[Ad].host.getAdDuration()}),-1)},e.subscribe=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this._genericCall("subscribe",(function(){var e;return(e=t[Ad].host).subscribe.apply(e,n)}))},e.unsubscribe=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this._genericCall("unsubscribe",(function(){var e;return(e=t[Ad].host).unsubscribe.apply(e,n)}))},e.getPlayer=function(){var t=this;return this._genericCall("getPlayer",(function(){return t[Ad][Pd]}))},e.getSlot=function(){var t=this;return this._genericCall("getSlot",(function(){return t[Ad][kd]}))},e.getPreviousEvents=function(){var t=this;return this._genericCall("getPreviousEvents",(function(){return t[Ad].runtime.hostInfo.publishedEvents.map((function(t){return t.name}))}),[])},e._genericCall=function(t,e,n){if(void 0===n&&(n=void 0),this[Sd]);else try{return e()}catch(t){}return n},t}(),xd=Symbol("dvFacade"),Od=Symbol("videoSlotOriginalPoster"),Cd=sf,jd=uf,Td=function(t){function r(){var e;return(e=t.call(this)||this)[xd]=new wd,e[xd].track=e.track.bind(i(e)),e}n(r,t);var o=r.prototype;return o.init=function(){this[xd].start(this.config,new Ed(this))},o.dispose=function(){return this[xd].dispose()},o.beforeInitAd=function(t,e,n,r,i,o){return new Promise(function(t,e){var n=o.slot,r=o.videoSlot;return this[Cd]=n,this[jd]=r,this[Od]=null!=r?r.poster:null,this[xd].onStartCreativeLoad(this[jd]),this._awaitAndHandleBlockDecision(),t()}.bind(this))},o.beforeAdLoaded=function(){return new Promise(function(t,e){return this[xd].onEndCreativeLoad(),Promise.resolve(this[xd].decideWithTimeout()).then((function(n){try{return n?t():e(new Error("Ad blocked"))}catch(t){return e(t)}}),e)}.bind(this))},o._awaitAndHandleBlockDecision=function(){return new Promise(function(t,e){var n,r,i,o,s,u;return n=this,this.runtime.tracking.addMetric(118,(function(){return n[xd].config.blkto})),r=tf(),this.runtime.tracking.addMetric(119,(function(){return r})),Promise.resolve(this[xd].decide()).then(function(n){try{return i=n,o=tf(),this.runtime.tracking.addMetric(120,(function(){return o})),s=this[xd].timedOut?"timeout":"decision",this.track(i?"dv-res-allow":"dv-res-block",{197:s},null,!0),i?null!=this[jd]&&this[jd].poster===Ef&&(this[jd].poster=this[Od]):(u={message:"Ad blocked"},this.publish(ks.AdError,["Ad blocked",u])),t()}catch(t){return e(t)}}.bind(this),e)}.bind(this))},e(r,null,[{key:"id",get:function(){return"dv"}}]),r}(gf),Id=Symbol("domEventTracker"),Md=Symbol("initialVideoSource"),Vd=function(t){return"currentSrc"in t?t.currentSrc:t.src},Ld=function(t){function r(){var e;return(e=t.call(this)||this)[Id]=new rl,e[Md]=null,e}n(r,t);var i=r.prototype;return i.beforeInitAd=function(t,e,n,r,i,o){return new Promise(function(t,e){if(null==o)return t();var n=o.videoSlot;if(null==n)return t();this[Md]=Vd(n);var r=this._preventEarlyPlayback.bind(this);return this[Id].addMany(n,{loadedmetadata:r,loadeddata:r,canplay:r,canplaythrough:r,playing:r}),t()}.bind(this))},i.beforeStartAd=function(){this[Id].removeAll()},i.dispose=function(){t.prototype.dispose.call(this),this[Id].removeAll()},i._preventEarlyPlayback=function(){var t=this.runtime.hostInfo.videoSlot;!t.paused&&this._hasVideoSourceChanged()&&t.pause()},i._hasVideoSourceChanged=function(){var t=this.runtime.hostInfo.videoSlot;return Vd(t)!==this[Md]},e(r,null,[{key:"id",get:function(){return"quirk.early-start"}}]),r}(gf),Dd=["dns","tcpHandshake","secureConnection","response","requestStartUntilResponseEnd"],Fd=function(t){return null!=t?Dd.map((function(e){return"number"==typeof(n=t[e])?n:"";var n})).join(":"):""},Rd=function(t){return new Promise((function(e,n){var r=new XMLHttpRequest;r.onload=function(){if(r.status<200||r.status>=300)n(new Error("HTTP "+r.status));else{var t=r.status,i=function(t){var e={},n=null;try{n=t.getResponseHeader("content-type")}catch(t){}return null!=n&&(e["content-type"]=n),e}(r),o=function(t){return{text:t.responseText,xml:t.responseXML}}(r);e({statusCode:t,headers:i,body:o})}},r.onerror=function(){n(new Error("Unknown error"))},r.open("GET",t),r.send()}))},Ud=function(t){function e(e,n,r){var i;return(i=t.call(this,e)||this).vastUrl=n,i.wrapperCount=r,i}return n(e,t),e}(al),Nd=function(t,e){return Array.prototype.find.call(t.childNodes,(function(t){return t.localName===e}))},zd=function(t){function r(){return t.apply(this,arguments)||this}n(r,t);var i=r.prototype;return i.init=function(){return new Promise(function(t,e){var n,r;return this._vastUrl=this.config.vastUrl,this._strategies=this.config.strategies,this._dimensions=((n={})[9]="warmup",n[102]=this._vastUrl,n),this._metrics=((r={})[9]=this.config.originChainLength,r),this._runStrategies(),t()}.bind(this))},i._runStrategies=function(){return new Promise(function(t,e){var n;!function(t){for(var e=t.length-1;e>0;--e){var n=Math.floor(Math.random()*e),r=t[e];t[e]=t[n],t[n]=r}}(n=this._strategies.slice());var r=function(){try{return this._trackBenchmarkSuccess(),t()}catch(t){return e(t)}}.bind(this),i=function(n){try{return t()}catch(t){return e(t)}};try{return Promise.resolve(Promise.all(n.map(this._runStrategy.bind(this)))).then((function(t){try{return r()}catch(t){return i()}}),i)}catch(t){i()}}.bind(this))},i._runStrategy=function(t){return new Promise(function(e,n){var r,i;r=this._buildVastUrl(t),t.chain=[];var o=function(){try{var o=function(e){try{throw this._trackBenchmarkError(t.name,e),e}catch(t){return n(t)}}.bind(this);try{return i=rh(),Promise.resolve((s=r,u=t.chain,new Promise((function(t,e){var n,r,i,o;function a(){if(!(null!=s&&n++<5))return[1];r={url:s},u.push(r),r.startTime=rh(),i=void 0;var t=function(t){try{throw new Ud(t.message,s,n)}catch(t){return e(t)}};try{return Promise.resolve(function(t){return new Promise((function(e,n){var r,i,o,s;return Promise.resolve(Rd(t)).then((function(t){try{return i=(r=t).headers,null==(o=r.body.xml)||null==o.documentElement||"VAST"!==o.documentElement.localName?(s=i["content-type"]||"unknown",n(new Error("Invalid response: "+s))):e(o)}catch(t){return n(t)}}),n)}))}(s)).then((function(o){try{return i=o,function(){try{r.endTime=rh(),r.timings=zl(s);try{s=function(t){var e=Nd(t.documentElement,"Ad");if(null==e)throw new Error("No ads");if(null!=Nd(e,"InLine"))return null;var n=Nd(e,"Wrapper");if(null==n)throw new Error("No InLine or Wrapper");var r=Nd(n,"VASTAdTagURI");if(null==r)throw new Error("No VASTAdTagURI");return r.textContent.trim()}(i)}catch(t){throw new Ud(t.message,s,n)}return a}catch(t){return e(t)}}()}catch(e){return t(e)}}),t)}catch(e){t(e)}}return n=0,(o=function(t){for(;t;){if(t.then)return void t.then(o,e);try{if(t.pop){if(t.length)return t.pop()?c.call(this):t;t=a}else t=t.call(this)}catch(t){return e(t)}}}.bind(this))(a);function c(){return null!=s?e(new Ud("Wrapper limit exceeded",s,n)):t()}})))).then((function(r){try{return t.totalTime=rh()-i,function(){try{return e()}catch(t){return n(t)}}()}catch(t){return o(t)}}),o)}catch(t){o(t)}}catch(t){return n(t)}var s,u}.bind(this),s=function(t){try{return o()}catch(t){return n(t)}};try{return Promise.resolve(this._warmUp(r)).then((function(t){try{return o()}catch(t){return s()}}),s)}catch(t){s()}}.bind(this))},i._buildVastUrl=function(t){if(null==t.endpoint)return this._vastUrl;var e=encodeURIComponent(this._vastUrl);return"https://"+t.endpoint+"/1?t=vast&src="+e},i._warmUp=function(t){return new Promise((function(e,n){var r;return r=function(t){var e=t.indexOf("//");if(e<0)return null;var n=t.indexOf("/",e+2);return n<0?t:t.substr(0,n)}(t),Promise.resolve(Rd(r)).then((function(t){try{return e()}catch(t){return n(t)}}),n)}))},i._trackBenchmarkSuccess=function(){for(var t=0;t<this._strategies.length;++t){var e=10*(t+1),n=this._strategies[t];this._addSuccessDimensions(e,n),this._addSuccessMetrics(e,n)}this.track("benchmark-end",this._dimensions,this._metrics,!0)},i._trackBenchmarkError=function(t,e){this._dimensions[10]=t,this._dimensions[110]=Jh(e),null!=e.vastUrl&&(this._dimensions[102]=Dl(e.vastUrl),this._metrics[8]=e.wrapperCount),this.track("benchmark-error",this._dimensions,this._metrics,!0)},i._addSuccessDimensions=function(t,e){var n,r=e.name,i=e.chain;Object.assign(this._dimensions,((n={})[t]=r,n[t+1]=i.map((function(t){return t.endTime-t.startTime})).join(","),n[t+2]=i.map((function(t){return Dl(t.url)})).join(","),n[t+3]=function(t){return t.map((function(t){return t.timings})).map(Fd).join(",")}(i),n))},i._addSuccessMetrics=function(t,e){var n,r=e.chain,i=e.totalTime;Object.assign(this._metrics,((n={})[t]=i,n[t+1]=r.length,n));var o=r[0].timings;if(null!=o)for(var s=0;s<Dd.length;++s){var u=o[Dd[s]];"number"==typeof u&&(this._metrics[t+2+s]=u)}},e(r,null,[{key:"id",get:function(){return"unwrapper-benchmark"}}]),r}(gf);function Bd(t){return t.charAt(0).toUpperCase()+t.substr(1)}wf.register(Td),wf.register(Ld),wf.register(zd);var Wd="[debug] ",Gd=Object.keys(Cs),qd=function(t){function r(){return t.apply(this,arguments)||this}return n(r,t),e(r,null,[{key:"id",get:function(){return"debug"}}]),r}(gf),Hd=function(t){var e,n=Bd(t),r="before"+n,i="after"+n;Object.assign(qd.prototype,((e={})[r]=function(){var t=arguments;return new Promise((function(e,n){for(var i,o=t.length,s=new Array(o),u=0;u<o;u++)s[u]=t[u];return(i=console).log.apply(i,[""+Wd+r].concat(s)),e()}))},e[i]=function(){var t=arguments;return new Promise((function(e,n){for(var r,o=t.length,s=new Array(o),u=0;u<o;u++)s[u]=t[u];return s.pop(),(r=console).log.apply(r,[""+Wd+i].concat(s)),e()}))},e))},Qd=function(t){for(var e=0;e<t.length;++e)Hd(t[e])};Qd(Object.keys(Es).map((function(t){return Es[t]}))),Qd(Object.keys(ks).map((function(t){return ks[t]}))),Qd(Gd.map((function(t){return"set"+Bd(t)})));for(var $d=function(t){var e=Gd[t],n="afterGet"+Bd(e),r=void 0;qd.prototype[n]=function(){var t,n=(t=arguments.length-1)<0||arguments.length<=t?void 0:arguments[t];r!==n&&(console.log(""+Wd+e+":",r,"â",n),r=n)}},Yd=0;Yd<Gd.length;++Yd)$d(Yd);wf.register(qd);var Kd=s.exports,Xd=ki,Jd=p.f,Zd=Me.f,tp=Eu,ep=Us,np=Kd.RegExp,rp=np,ip=np.prototype,op=/a/g,sp=/a/g,up=new np(op)!==op;if(h&&(!up||l((function(){return sp[mt.exports("match")]=!1,np(op)!=op||np(sp)==sp||"/a/i"!=np(op,"i")})))){np=function(t,e){var n=this instanceof np,r=tp(t),i=void 0===e;return!n&&r&&t.constructor===np&&i?t:Xd(up?new rp(r&&!i?t.source:t,e):rp((r=t instanceof np)?t.source:t,r&&i?ep.call(t):e),n?this:ip,np)};for(var ap=function(t){t in np||Jd(np,t,{configurable:!0,get:function(){return rp[t]},set:function(e){rp[t]=e}})},cp=Zd(rp),lp=0;cp.length>lp;)ap(cp[lp++]);ip.constructor=np,np.prototype=ip,M.exports(Kd,"RegExp",np)}uc("RegExp");var hp=Symbol("play"),fp=function(t){function r(){var e;return(e=t.call(this)||this)[hp]=null,e}n(r,t);var i=r.prototype;return i._createPlay=function(t){var e=this,n=t.ownerDocument||document,r=Bc(n,"svg",{width:"100%",height:"100%",viewBox:"0 0 100 100"},{display:"none",position:"absolute","z-index":"10000001","background-color":"rgba(0, 0, 0, 0.3)",cursor:"pointer"},!0),i=Bc(n,"circle",{cx:"50%",cy:"50%",r:"25%",fill:"none",stroke:"white","stroke-width":"2px"},!0);r.appendChild(i);var o=Bc(n,"polygon",{points:"45,40,45,60,60,50",fill:"white"},!0);r.appendChild(o),this[hp]=r,t.appendChild(r),r.addEventListener("click",(function(){e.host.resumeAd()}))},i._isEnabled=function(){var t=this.config.acceptMedia,e=this.runtime.guestInfo.mediaFile.type,n=!0;if("string"==typeof t&&"string"==typeof e)try{n=new RegExp(t).test(e)}catch(t){}return n},i.beforeInitAd=function(t,e,n,r,i,o){return new Promise(function(t,e){return this._isEnabled()&&this._createPlay(o.slot),t()}.bind(this))},i.afterAdPaused=function(){return new Promise(function(t,e){return null!==this[hp]&&zc(this[hp],{display:"block"},!0),t()}.bind(this))},i.beforeAdPlaying=function(){return new Promise(function(t,e){return null!==this[hp]&&zc(this[hp],{display:"none"},!0),t()}.bind(this))},e(r,null,[{key:"id",get:function(){return"play"}}]),r}(gf),dp=Symbol("skip"),pp=Symbol("interval"),vp={position:"absolute",bottom:"10%",right:"0px",padding:"12px","z-index":"10000001","background-color":"rgba(0, 0, 0, 0.7)",color:"white","font-size":"12px","font-weight":"200","font-family":"Arial, Helvetica, sans-serif","border-color":"rgba(255, 255, 255, 0.5)","border-width":"0px","border-style":"solid",cursor:"default","user-select":"none"},mp=Object.assign({},vp,{"font-size":"18px","border-width":"1px 0px 1px 1px",cursor:"pointer"}),gp=function(t){function r(){var e;return(e=t.call(this)||this)[dp]=null,e[pp]=null,e}n(r,t);var i=r.prototype;return i._createSkip=function(t){var e=this,n=(t.ownerDocument||document).createElement("div");n.addEventListener("click",(function(){return e._maybeSkip()})),this[dp]=n,this._updateSkip(),t.appendChild(n)},i._updateSkip=function(){var t=this._getSkipTimeRemaining(),e=!isNaN(t)||this.host.getAdSkippableState();zc(this[dp],{display:e?"block":"none"},!0);var n=t>0,r="Skip ad";n&&(r="You can skip to video in [T]".replace("[T]",""+Math.round(t))),this[dp].innerHTML!==r&&(this[dp].innerHTML=r),zc(this[dp],n?vp:mp,!0)},i._getSkipTimeRemaining=function(){var t=this.runtime.config.skipOffset;if("number"!=typeof t)return NaN;var e=this.host.getAdDuration(),n=this.host.getAdRemainingTime();return e<0||n<0?NaN:t-Math.max(e-n,0)},i._maybeSkip=function(){return new Promise(function(t,e){return this._getSkipTimeRemaining()>0?t():!0===this.guest.getAdSkippableState()?(this.host.skipAd(),n.call(this)):Promise.resolve(this.publish("AdSkipped")).then(function(t){try{return this.host.stopAd(),n.call(this)}catch(t){return e(t)}}.bind(this),e);function n(){return t()}}.bind(this))},i._isEnabled=function(){var t=this.config.acceptMedia;return null==t||"string"==typeof t&&null!=this.runtime.guestInfo.mediaFile.type.match(new RegExp(t))},i.beforeInitAd=function(t,e,n,r,i,o){return new Promise(function(t,e){var n=this;return this._isEnabled()&&(this._createSkip(o.slot),this[pp]=setInterval((function(){return n._updateSkip()}),250)),t()}.bind(this))},i.afterAdSkippableStateChange=function(){return new Promise(function(t,e){return this._isEnabled()&&this._updateSkip(),t()}.bind(this))},i.beforeAdStopped=function(){return new Promise(function(t,e){return null!==this[pp]&&(clearInterval(this[pp]),this[pp]=null),t()}.bind(this))},e(r,null,[{key:"id",get:function(){return"skip"}}]),r}(gf),yp=function(t){function r(){var e;return(e=t.call(this)||this)._fetchStartTime=0,e}n(r,t);var i=r.prototype;return i.setConfig=function(e){t.prototype.setConfig.call(this,e);var n=e.vastChainInfo;null!=n&&this.hostInfo.addAdParamsVastChainInfo(n)},i.beforeLoadVast=function(){this._fetchStartTime=rh()},i.afterLoadVast=function(t){var e=t.uri,n=rh()-this._fetchStartTime;this.hostInfo.addVastChainInfo("vast",e,n,!1)},i.afterLoadVpaid=function(t){var e=t.uri,n=t.time;this.hostInfo.addVastChainInfo("vpaid",e,n,!1)},e(r,null,[{key:"id",get:function(){return"vast-chain-tracking"}}]),r}(gf);wf.register(fp),wf.register(gp),wf.register(yp);var bp,_p=/^\s*(\d+):(\d+):(\d+(?:\.\d+)?)\s*$/;(bp={}).b=function(t){return"true"===t||"1"===t},bp.i=function(t){return parseInt(t,10)},bp.f=parseFloat,bp.t=function(t){if("string"!=typeof t)return null;var e=_p.exec(t);return null==e?null:60*(60*parseInt(e[1],10)+parseInt(e[2],10))+parseFloat(e[3])},function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var u=new i(r,o||t,s),a=n?n+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],u]:t._events[a].push(u):(t._events[a]=u,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function u(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),u.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},u.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},u.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},u.prototype.emit=function(t,e,r,i,o,s){var u=n?n+t:t;if(!this._events[u])return!1;var a,c,l=this._events[u],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,i),!0;case 5:return l.fn.call(l.context,e,r,i,o),!0;case 6:return l.fn.call(l.context,e,r,i,o,s),!0}for(c=1,a=new Array(h-1);c<h;c++)a[c-1]=arguments[c];l.fn.apply(l.context,a)}else{var f,d=l.length;for(c=0;c<d;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,r);break;case 4:l[c].fn.call(l[c].context,e,r,i);break;default:if(!a)for(f=1,a=new Array(h-1);f<h;f++)a[f-1]=arguments[f];l[c].fn.apply(l[c].context,a)}}return!0},u.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},u.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},u.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var u=this._events[o];if(u.fn)u.fn!==e||i&&!u.once||r&&u.context!==r||s(this,o);else{for(var a=0,c=[],l=u.length;a<l;a++)(u[a].fn!==e||i&&!u[a].once||r&&u[a].context!==r)&&c.push(u[a]);c.length?this._events[o]=1===c.length?c[0]:c:s(this,o)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&s(this,e)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u}();var wp,Ap={visibility:"hidden",position:"absolute",left:0,top:0,width:0,height:0,margin:0,padding:0,border:0},Sp=/^https?:\/\//,kp=function(t){var e=null;try{e=t.document.baseURI}catch(t){}return null!=e&&Sp.test(e)?e:null},Pp=function(t,e,n){return new Promise((function(r,i){var o,s;return o=rh(),Promise.resolve(ql(t,e,n)).then((function(t){try{return s=rh()-o,r(s)}catch(t){return i(t)}}),i)}))},Ep=function(t,e){return new Promise((function(n,r){var i,o,s,u,a;return i=e.ownerDocument,o=i.defaultView,s=o.getVPAIDAd,delete o.getVPAIDAd,Promise.resolve(Pp(t,null,i)).then((function(t){try{u=t;try{a=o.getVPAIDAd()}finally{o.getVPAIDAd=s}return n({vpaid:a,time:u})}catch(t){return r(t)}}),r)}))},xp=function(t,e){return new Promise((function(n,r){var i,o,s,u,a,c;return Promise.resolve(function(t,e,n,r){return new Promise((function(i,o){return void 0===n&&(n=!1),void 0===r&&(r="about:blank"),Promise.resolve(Jc(t.ownerDocument)).then((function(s){try{return i(function(t,e,n,r){return new Promise((function(i,o){var s,u;return s=t.ownerDocument.createElement("iframe"),u=Xc(s,"load"),s.loading="eager",s.frameBorder="0",s.scrolling="no",zc(s,e,n),s.src=r,t.appendChild(s),Promise.resolve(Promise.race([u,Zc(s)])).then((function(t){try{return i(s)}catch(t){return o(t)}}),o)}))}(t,e,n,r))}catch(t){return o(t)}}),o)}))}(e,Ap,!0)).then((function(e){try{return o=(i=e).contentWindow,s=o.document,u=function(t){return function(t,e,n){for(var r=0,i=e(t);null==i&&t!==t.parent&&r<10;)i=e(t=t.parent),++r;return i}(t,kp)}(o),s.write("<html><head>"+(null!=u?'<base href="'+(l=u,(h=document.createElement("span")).textContent=l,h.innerHTML+'">'):"")+"</head><body></body></html>"),s.close(),Promise.resolve(Pp(t,null,s)).then((function(t){try{return a=t,c=o.getVPAIDAd(),n({iframe:i,vpaid:c,time:a})}catch(t){return r(t)}}),r)}catch(t){return r(t)}var l,h}),r)}))},Op={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5},Cp=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror"],jp=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],Tp=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"],Ip="undefined"!=typeof window&&void 0!==window.document?window.document:{},Mp="fullscreenEnabled"in Ip&&Object.keys(Op)||Cp[0]in Ip&&Cp||jp[0]in Ip&&jp||Tp[0]in Ip&&Tp||[],Vp={get changeEventType(){return Mp[Op.fullscreenchange]},isActive:function(t){var e=t.ownerDocument,n=Mp[Op.fullscreenElement];return null!=e&&e[n]===t},request:function(t){if(Vp.isActive(t))return Promise.resolve();var e=Mp[Op.requestFullscreen];return"function"!=typeof t[e]?Promise.reject(new Error("Not supported")):hh(t[e](),3e3)},exit:function(t){var e=Mp[Op.exitFullscreen];return"function"!=typeof t[e]?Promise.reject(new Error("Not supported")):hh(t[e](),1e3)}},Lp=Symbol("url"),Dp=Symbol("options"),Fp=Symbol("pubSub"),Rp=Symbol("skippable"),Up=Symbol("slot"),Np=Symbol("videoSlot"),zp=Symbol("clickSlot"),Bp=Symbol("width"),Wp=Symbol("height"),Gp=Symbol("viewMode"),qp=Symbol("volumeImpaired"),Hp=Symbol("volume"),Qp=Symbol("paused"),$p=Symbol("stopped"),Yp=Symbol("loaded"),Kp=Symbol("clicked"),Xp=Symbol("requested"),Jp=Symbol("domEventTracker"),Zp=Symbol("tickInterval"),tv=Symbol("quartile"),ev=Symbol("monitors"),nv=Symbol("lastTimeChangeTimestamp"),rv=df,iv={noMutedAutoplayFallback:!1,noPauseOnClickThrough:!1,skipOffset:null},ov={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"},sv={position:"absolute",left:"0",top:"0",border:"0",margin:"0",padding:"0"},uv=Object.assign({},sv,{cursor:"pointer"}),av="duration",cv="remainingTime",lv="volume",hv="size",fv=((wp={}).duration=[["getAdDuration"],"AdDurationChange"],wp.remainingTime=[["getAdRemainingTime"],"AdRemainingTimeChange"],wp.volume=[["getAdVolume"],"AdVolumeChange"],wp.skippableState=[["getAdSkippableState"],"AdSkippableStateChange"],wp.size=[["getAdWidth","getAdHeight"],"AdSizeChange"],wp),dv=function(){function t(t,e){this[Lp]=t,this[Dp]=Object.assign({},iv,e),this[Fp]=new Pf,this[Rp]=null==this[Dp].skipOffset,this[Bp]=Ss,this[Wp]=Ss,this[Gp]=null,this[qp]=!1,this[Hp]=Ss,this[Up]=null,this[Np]=null,this[Qp]=!0,this[$p]=!1,this[Yp]=!1,this[Kp]=!1,this[rv]=!0,this[Jp]=new rl,this[Xp]={},this[Zp]=null,this[tv]=-1,this[ev]=this._buildMonitors(),this[nv]=rh(),this._handleTimeChange=this._handleTimeChange.bind(this),this._onTick=this._onTick.bind(this);for(var n=0;n<xs.length;++n){var r=xs[n];this[r]=nh(this[r]).bind(this)}Zu({rel:"preconnect",href:t,pr:"1.0"})}var e=t.prototype;return e._getSlot=function(){return this[Up]},e.getAdLinear=function(){return!0},e.getAdWidth=function(){return this._isFullscreen()?screen.width:this[Bp]},e.getAdHeight=function(){return this._isFullscreen()?screen.height:this[Wp]},e.getAdExpanded=function(){return!1},e.getAdSkippableState=function(){return this[Rp]},e.getAdRemainingTime=function(){if(this[Yp]&&null!=this[Np]){var t=this[Np],e=t.currentTime,n=t.duration;if(isFinite(e)&&isFinite(n)&&n>0&&e>=0)return n-e}return Ss},e.getAdDuration=function(){if(this[Yp]&&null!=this[Np]){var t=this[Np].duration;if(isFinite(t)&&t>0)return t}return Ss},e.getAdVolume=function(){if(this[Yp]&&null!=this[Np]){var t=this[Np],e=t.volume,n=t.muted;if("boolean"==typeof n&&n)return 0;if(isFinite(e))return e}return this[Hp]},e.setAdVolume=function(t){this[Hp]=t,null!=this[Np]&&(this._setVolume(t),this[qp]&&this._notifyMonitor(lv))},e.getAdCompanions=function(){return""},e.getAdIcons=function(){return!1},e.handshakeVersion=function(){return"2.0"},e.initAd=function(t,e,n,r,i,o){var s=this,u=o||{},a=u.videoSlot,c=u.slot,l=u.sendErrorInfo,h=null==c||null==c.ownerDocument;this[Fp].options.sendErrorInfo=!0===l,h&&(c=document.createElement("div"),zc(c,sv)),null==a&&(a=c.ownerDocument.createElement("video"),zc(a,sv),c.appendChild(a)),this[Up]=c,this[Np]=a,this[zp]=c.ownerDocument.createElement("div"),zc(this[zp],uv,!0),c.appendChild(this[zp]),this[qp]=!("volume"in a&&"muted"in a),this._setDimensions(t,e,n,!1),this._preloadSrc(this[Lp]);var f=function(){s._publish(ks.AdLoaded)};h?Jc(document).then((function(){document.body.appendChild(c),f()})):f()},e.resizeAd=function(t,e,n){this._setDimensions(t,e,n,!0)},e.startAd=function(){this._request(ks.AdImpression),this._addDomListeners(),this[Np].pause(),this[Hp]>=0&&(this._setVolume(this[Hp]),this._notifyMonitor(lv)),this._initVideoSlot(this[Lp]),this[Yp]=!0,this._publish(ks.AdStarted),this[Qp]=!1,this._play()},e.stopAd=function(){this._stop()},e.skipAd=function(){this._request(ks.AdSkipped),this._stop()},e.pauseAd=function(){this._pause()},e.resumeAd=function(){this._resume()},e.expandAd=function(){},e.collapseAd=function(){},e.subscribe=function(t,e,n){void 0===n&&(n=null),this[Fp].subscribe(t,e,n)},e.unsubscribe=function(t,e){this[Fp].unsubscribe(t,e)},e._publish=function(t,e){void 0===e&&(e=[]),this[Fp].publish(t,e)},e._addDomListeners=function(){var t,e;this[Jp].removeAll(),this[Jp].add(this[zp],"click",this._onClickSlotClick,this).add((t=this[Np].ownerDocument,null!=(e=t)&&"function"==typeof e.addEventListener?t:document),Vp.changeEventType,this._onFullscreenchange,this).addMany(this[Np],{durationchange:this._onVideoDurationchange,volumechange:this._onVideoVolumechange,playing:this._onVideoPlaying,play:this._onVideoPlay,pause:this._onVideoPause,seeked:this._onVideoSeeked,ended:this._onVideoEnded,error:this._onVideoError,timeupdate:this._onVideoTimeupdate},this)},e._onClickSlotClick=function(){this[$p]?this._publish(ks.AdClickThru,[null,null,!0]):this[Kp]&&this[Qp]?this[Qp]&&(this[Kp]=!1,this._resume()):(this[Dp].noPauseOnClickThrough||this[Qp]||this._pause(),this[Kp]=!0,this._publish(ks.AdClickThru,[null,null,!0]))},e._onTick=function(){rh()-this[nv]>=245&&this._handleTimeChange()},e._onVideoDurationchange=function(){this._notifyMonitor(av),this._notifyMonitor(cv)},e._onVideoVolumechange=function(){this._notifyMonitor(lv)},e._onVideoPlaying=function(){this._satisfy(ks.AdImpression),this._satisfy(ks.AdPlaying),this._startTicking()},e._onVideoPlay=function(){},e._onVideoPause=function(){this._stopTicking(),this._satisfy(ks.AdPaused),this._satisfyStopRequest()},e._onVideoSeeked=function(){this._notifyMonitor(cv)},e._onVideoEnded=function(){this._handleTimeChange(),this._stop()},e._onVideoError=function(){var t="Video Playback Error"+function(t){if(null==t||null==t.code&&da(t.message))return" (no error code, no error message)";var e=t.code,n=t.message;if(null==e)return": "+n+" (no error code)";var r=ov[e];return null==r?da(n)?" (unknown error code "+e+", no error message)":": "+n+" (unknown error code "+e+")":": "+r+" "+(da(n)?"(no error message)":"- "+n)}(this[Np].error),e=new hl(t,405,null,this[Lp]),n={message:e.toString(),code:e.code,subject:e.subject};this._publish(ks.AdError,[n.message,n]),this._stop()},e._onVideoTimeupdate=function(){this._onTick()},e._preloadSrc=function(t){var e=this[Np],n=e.src,r=e.currentSrc;null!=n&&""!==n||null!=r&&""!==r||(this[Jp].add(this[Np],"error",this._onVideoError,this),this._initVideoSlot(t))},e._initVideoSlot=function(t){"function"==typeof this[Np].setAttribute?(this[Np].setAttribute("playsinline","true"),this[Np].setAttribute("webkit-playsinline","true")):this[Np].playsInline=!0,this[Np].autoplay=!1,this[Np].controls=!1,this[Np].loop=!1,this[Np].src=t},e._setDimensions=function(t,e,n,r){var i=this;"fullscreen"===n?this._requestFullscreen().catch((function(t){i._publishAdLog("Fullscreen mode failed: "+t)})):this._exitFullscreen().catch(Yc).then((function(){i._setDimensionsNormal(t,e),r&&i._notifyMonitor(hv)}))},e._setDimensionsNormal=function(t,e){this[Bp]=t,this[Wp]=e,this[Gp]="normal";var n={width:t+"px",height:e+"px"};zc(this[Np],n),zc(this[Up],n),zc(this[zp],n,!0)},e._requestFullscreen=function(){return this._isFullscreen()?Promise.resolve():Vp.request(this[Np]).then((function(){}),(function(t){throw t}))},e._exitFullscreen=function(){return this._isFullscreen()?Vp.exit(this[Np].ownerDocument).catch((function(t){throw t})):Promise.resolve()},e._onFullscreenchange=function(){var t=this._isFullscreen()?"fullscreen":"normal";t!==this[Gp]&&(this[Gp]=t,this._notifyMonitor(hv))},e._isFullscreen=function(){return null!=this[Np]&&Vp.isActive(this[Np])},e._setVolume=function(t){this[Np].volume!==t&&(this[Np].volume=t);var e=0===t;this[Np].muted!==e&&(this[Np].muted=e)},e._play=function(){var t=this,e=this[Dp].noMutedAutoplayFallback,n=this[Np].muted,r=this[Np].play();null!=r&&"function"==typeof r.catch?(this._publish(ks.AdMutedUnmutedPlayback,n?[{mutedPlaybackAttempted:!0}]:[{unmutedPlaybackAttempted:!0}]),r.then((function(){t._publish(ks.AdMutedUnmutedPlayback,[{playbackSuccessful:!0}])})).catch((function(r){if(n)throw r;if(t._publishAdLog("Unmuted playback failed: "+r),t[Qp])t._publishAdLog("Unmuted playback failed and ad is paused, not falling back to muted playback"),t._publish(ks.AdMutedUnmutedPlayback,[{playbackSuccessful:!1,adPaused:!0}]);else{if(!e)return t._publishAdLog("Unmuted playback failed, attempting fallback to muted playback"),t[Np].muted=!0,t._publish(ks.AdMutedUnmutedPlayback,[{mutedPlaybackAttempted:!0}]),t[Np].play();t._publishAdLog("Unmuted playback failed and fallback to muted playback disabled, giving up"),t._publish(ks.AdMutedUnmutedPlayback,[{playbackSuccessful:!1,mutedPlaybackDisabled:!0}])}})).catch((function(e){t._publish(ks.AdMutedUnmutedPlayback,[{playbackSuccessful:!1}]),t._publishAdLog("Muted playback failed: "+e)}))):this._publishAdLog("Video slot does not report disallowed play attempts")},e._pause=function(){this[Qp]=!0,null==this[Np]||this[Np].paused?this._publish(ks.AdPaused):(this._request(ks.AdPaused),this[Np].pause())},e._resume=function(){this[Qp]=!1,null!=this[Np]&&this[Np].paused?(this._request(ks.AdPlaying),this._play()):this._publish(ks.AdPlaying)},e._stop=function(){this._stopTicking(),this[Qp]=!0,this[$p]=!0,this._request(ks.AdStopped),null==this[Np]||this[Np].paused||this[Np].ended?this._satisfyStopRequest():this[Np].pause()},e._satisfyStopRequest=function(){this._requested(ks.AdStopped)&&(this[Dp].autoDisposeDisabled||this[Jp].removeAll(),null!=this[Np]&&this._resetMediaSrc(),this._satisfy(ks.AdSkipped),this._satisfy(ks.AdStopped))},e._resetMediaSrc=function(){var t=this[Np];"function"==typeof t.removeAttribute?(t.removeAttribute("src"),t.load()):t.src="",this[Yp]=!1},e._startTicking=function(){null==this[Zp]&&(this[Zp]=setInterval(this._onTick,250),this._handleTimeChange())},e._stopTicking=function(){null!=this[Zp]&&(this._handleTimeChange(),clearInterval(this[Zp]),this[Zp]=null)},e._handleTimeChange=function(){if(this[nv]=rh(),this[Yp]){var t=this[Np];null==t||t.readyState<1||null!=t.error||(this._notifyMonitor(av),this._notifyMonitor(cv),this._handleSkippableState(),this._handleQuartiles())}},e._handleSkippableState=function(){var t=this[Dp].skipOffset,e=this[Np].currentTime;!this[Rp]&&"number"==typeof t&&e>=t&&(this[Rp]=!0,this._notifyMonitor("skippableState"))},e._handleQuartiles=function(){var t,e=this[Np],n=e.currentTime,r=e.duration,i=e.ended,o=e.played,s=null!=o&&o.length>0?(t=o,Array.apply(null,t).reduce((function(e,n,r){return e+t.end(r)-t.start(r)}),0)):n;if(!(!isFinite(s)||s<0||!isFinite(r)||r<=0)){var u=this[tv],a=i?.25:0;this[tv]=Math.min(Math.max(u,Math.floor((s+a)/r*4)),4);for(var c=u+1;c<=this[tv];++c)this._publish(js[c])}},e._request=function(t){this[Xp][t]=!0},e._requested=function(t){return!!this[Xp][t]},e._satisfy=function(t){this._requested(t)&&(this[Xp][t]=!1,this._publish(t))},e._buildMonitors=function(){for(var t={},e=Object.keys(fv),n=0;n<e.length;++n){var r=e[n],i=fv[r],o=i[0],s=i[1];t[r]=this._buildMonitor(o,s)}return t},e._buildMonitor=function(t,e){var n=this,r=function(){return t.map((function(t){return n[t]()})).join("\0")},i=r();return function(){var t=r();t!==i&&(i=t,n._publish(e))}},e._notifyMonitor=function(t){this[ev][t]()},e._publishAdLog=function(t){this._publish(ks.AdLog,[t])},t}(),pv=ef,vv=lf,mv=ff,gv=[/\/adbridge-vpaid\.min\.js(?:\?|#|$)/,/\/\/(?:www\.)?wootag\.com\/player\/(?:ad\/)?v3\/bundle\.js(?:\?|#|$)/,/\/\/(?:www\.)?viewbix\.com\/plugins\/vpaid\.bundle\.js(?:\?|#|$)/,/\/\/(?:[^/]+\.)?(?:ssl-images|media)-amazon\.com\//],yv=af,bv=ef,_v=v,wv=st.exports.onFreeze;bs("freeze",(function(t){return function(e){return t&&_v(e)?t(wv(e)):e}}));var Av,Sv,kv=Object.freeze({DISABLED:"DISABLED",DATE:"DATE",MACRO:"MACRO",CUSTOM:"CUSTOM"}),Pv=function(t,e,n){return encodeURIComponent(t)+"="+(n?encodeURIComponent(e):e)},Ev=function(t){function e(e){var n;return(n=t.call(this,e)||this).setHitType("event"),n}n(e,t);var r=e.prototype;return r.setEventCategory=function(t){return this.set("ec",t)},r.setEventAction=function(t){return this.set("ea",t)},r.setEventLabel=function(t){return this.set("el",t)},r.setEventValue=function(t){return this.set("ev",t)},e}(function(){function t(t){this._options=Object.assign({},t),this._params={},this.setProtocolVersion(1)}var n=t.prototype;return n.build=function(){return this._baseUrl+"?"+this.buildQueryString()},n.buildQueryString=function(){return Object.entries(this._params).filter((function(t){return null!=t[0]})).map((function(t){var e=t[0],n=t[1],r=n.value,i=n.encodeValue;return Array.isArray(r)?r.map((function(t){return Pv(e,t,i)})).join("&"):Pv(e,r,i)})).join("&")+this.buildCacheBusterQueryStr()},n.buildCacheBusterQueryStr=function(){var t;switch(this._options.hasOwnProperty("z")||this.setCacheBusterMode(kv.DATE),this._options.z){case kv.CUSTOM:var e=null!=this._params.z?this._params.z.value:void 0;delete this._params.z,t=encodeURIComponent(e);break;case kv.MACRO:t="[CACHEBUSTING]";break;case kv.DATE:var n=1e6+Math.floor(9e6*Math.random());t=""+(new Date).getTime()+n;break;case kv.DISABLED:default:return""}return"&z="+t},n.setBaseUrl=function(t){return this._baseUrl=t,this},n.set=function(t,e,n){return void 0===n&&(n=!0),null!=e&&(this._params[t]={value:e,encodeValue:n}),this},n.setCacheBusterMode=function(t){return null!=t&&(this._options.z=t),this},n.setProtocolVersion=function(t){return this.set("v",t)},n.setCtx=function(t){return this.set("ctx",t)},n.setCmp=function(t){return this.set("cmp",t)},n.setTrackingId=function(t){return this.set("tid",t)},n.setClientId=function(t){return this.set("cid",t)},n.setHitType=function(t){return this.set("t",t)},n.setDocumentReferrer=function(t){return this.set("dr",t)},n.setCampaignName=function(t){return this.set("cn",t)},n.setCampaignSource=function(t){return this.set("cs",t)},n.setCampaignMedium=function(t){return this.set("cm",t)},n.setCampaignKeyword=function(t){return this.set("ck",t)},n.setCampaignContent=function(t){return this.set("cc",t)},n.setCampaignId=function(t){return this.set("ci",t)},n.setCustomDimension=function(t,e,n){return void 0===n&&(n=!0),this.set("cd"+t,e,n)},n.setCustomMetric=function(t,e,n){return void 0===n&&(n=!0),this.set("cm"+t,e,n)},n.setGdprApplies=function(t){return this.set("gdpr",t)},n.setGdprConsent=function(t){return this.set("gdpr_consent",t)},e(t,[{key:"options",get:function(){return this._options}}]),t}()),xv={timeout:2e3,postAllowed:!1,styles:{position:"absolute",top:0,left:0,width:0,height:0,border:0,pointerEvents:"none",visibility:"hidden"}},Ov=function(){},Cv=function(){function t(t,e){void 0===e&&(e={}),this._url=t,this._options=Object.assign({},xv,e);var n=window,r=0;try{for(;r<10&&n.parent!==n&&null!=n.parent.document.createElement("img");)n=n.parent,++r}catch(t){}this._window=n}var n=t.prototype;return n.load=function(){return null!=this._deferred?Promise.reject(new Error("Already loading")):(this._deferred=((t={}).promise=new Promise((function(e,n){t.resolve=e,t.reject=n})),t),this._deferred.promise.catch(Ov),(this._options.postAllowed&&"function"==typeof navigator.sendBeacon?this._sendBeacon:this._loadPixel).call(this),this._deferred.promise);var t},n.dispose=function(){this._rejectWith("Disposed")},n._sendBeacon=function(){navigator.sendBeacon(this._url,"")?this._deferred.resolve():this._deferred.reject(new Error("Failed"))},n._loadPixel=function(){this._image=this._window.document.createElement("img"),this._image.src=this._url,Object.assign(this._image.style,this._options.styles),this._image.onload=this._onImageLoad.bind(this),this._image.onerror=this._onImageError.bind(this),this._window.document.body.appendChild(this._image),setTimeout(this._onImageTimeout.bind(this),this._options.timeout)},n._onImageLoad=function(){this._deferred.resolve(),this._remove()},n._onImageError=function(){this._rejectWith("Unknown error")},n._onImageTimeout=function(){this._rejectWith("Timed out")},n._rejectWith=function(t){this._deferred.reject(new Error(t)),this._remove()},n._remove=function(){null!=this._image&&(null!=this._image.parentNode&&this._image.parentNode.removeChild(this._image),this._image=null)},e(t,[{key:"promise",get:function(){return null!=this._deferred?this._deferred.promise:null}}]),t}(),jv=Symbol("tracking"),Tv=function(){},Iv=[],Mv=function(){function t(){this[jv]=[]}var e=t.prototype;return e.complete=function(){return new Promise(function(t,e){var n,r;function i(){return this[jv].length>0?(n=this[jv],this[jv]=[],Promise.resolve(Promise.all(n)).then((function(t){try{return i}catch(t){return e(t)}}),e)):[1]}return(r=function(t){for(;t;){if(t.then)return void t.then(r,e);try{if(t.pop){if(t.length)return t.pop()?o.call(this):t;t=i}else t=t.call(this)}catch(t){return e(t)}}}.bind(this))(i);function o(){return t()}}.bind(this))},e.track=function(t,e){void 0===e&&(e={});var n=new Cv(t,e),r=n.load().catch(Tv);return this[jv].push(r),Iv.push(r),n},t}(),Vv=/^(?:(\w+):)?\/\/(.*)/,Lv=/[_%]/g,Dv=function(t){return"_"===t?"_5F":"_"},Fv=function(t){function e(e){var n;return i(n=t.call(this,e)||this).setBaseUrl("https://pxsrv.net/"),null!=e&&e.vast&&n.setCacheBusterMode(kv.MACRO),n}n(e,t);var r=e.prototype;return r.setRedirectUrl=function(t){return this._redir=null,this._redirectUrl=t,this},r.setRedir=function(t){return this._redirectUrl=null,this._redir=t,this},r.build=function(){return null!=this._redirectUrl?this._buildPathRedirect(this._redirectUrl):null!=this._redir?t.prototype.build.call(this)+"&redir="+this._redir:t.prototype.build.call(this)},r._buildPathRedirect=function(t){var e=Vv.exec(t);if(null==e)throw new Error("Invalid redirect URL: "+t);return this._baseUrl+"t/"+this._buildEmbeddedQueryString()+"/"+(e[1]||"https")+"/"+e[2]},r._buildEmbeddedQueryString=function(){return this.buildQueryString().replace(Lv,Dv)},e}(Ev),Rv=[{prop:"placement",prefix:"ZA-"},{prop:"embed",prefix:"ZO-"},{prop:"wrapper",prefix:"ZW-"}],Uv=(Av=function(t){function r(e){var n;return void 0===e&&(e=null),n=t.call(this)||this,null!=e&&(n.config=e),n}n(r,t);var i=r.prototype;return i.trackEvent=function(t,e,n,r){if(null==this._trackingId&&null==this._ctx)throw new Error("Invalid pxsrv configuration");var i;i=null!=n&&"object"!=typeof n?Object.assign({},r,{label:n}):Object.assign({},n);var o=this.buildTrackingUrl(t,e,i);return this.track(o,{postAllowed:!0})},i.buildTrackingUrl=function(t,e,n){var r=new Fv;if(null!=this._ctx?r.setCtx(this._ctx):r.setTrackingId(this._trackingId),r.setCmp(this._cmp).setClientId(this._clientId).setEventCategory(t).setEventAction(e).setEventLabel(n.label).setEventValue(n.value).setGdprApplies(n.gdpr).setGdprConsent(n.gdpr_consent),Object.keys(n.customDimensions||{}).forEach((function(t){r.setCustomDimension(t,n.customDimensions[t])})),Object.keys(n.customMetrics||{}).forEach((function(t){r.setCustomMetric(t,n.customMetrics[t])})),null!=n.redirectUrl&&r.setRedirectUrl(n.redirectUrl),r.setCacheBusterMode(n.cacheBusterMode),null!=this._baseUrl){var i="function"==typeof this._baseUrl?this._baseUrl(t,e,n):this._baseUrl;r.setBaseUrl(i)}return r.build()},e(r,[{key:"config",set:function(t){null!=t.ctx?this._ctx=t.ctx:this._trackingId=function(t){null!=t.placement&&null!=t.campaign&&(t={placement:t.campaign+"-"+t.placement});var e=Rv.find((function(e){var n=e.prop;return null!=t[n]}));if(null==e)throw new Error("Invalid pxsrv configuration");return e.prefix+t[e.prop]}(t),this._cmp=t.cmp,this._baseUrl=t.baseUrl,this._clientId=t.client||function(t,e){for(e=t="";t++<36;e+=51*t&52?(15^t?8^(new Date/1e9%1+Math.random())%1*(20^t?16:4):4).toString(16):"-");return e}()}}]),r}(Mv),Sv=null,function(){return null===Sv&&(Sv=new Av),Sv}),Nv=["GuestNotAvailableError","MethodNotAvailableError"],zv=["initAd","startAd","stopAd","skipAd"],Bv=ef,Wv=function(t,e,n){null==t[e]&&(t[e]=function(){var t=null;try{for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t=this._phasedGuestCallSync(e,i)}catch(e){if(!(null!=e&&Nv.indexOf(e.name)>=0))throw e;t=n}return t})},Gv=function(t,e){null==t[e]&&(t[e]=function(){var t=this;zv.indexOf(e)>=0&&this[Bv].track(e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];this._phasedGuestCall(e,r).catch((function(n){t._onError(n,e)}))})},qv=function(t){return function(t){return"string"==typeof t&&t.startsWith("data:")}(t)?"data:":t},Hv=Symbol("timings"),Qv=Symbol("eventCount"),$v=Symbol("lastEventTime"),Yv=Symbol("handlers"),Kv=Symbol("configured"),Xv=Symbol("configuring"),Jv=Symbol("gpdrApplies"),Zv=Symbol("gdprConsent"),tm=Symbol("doNotSampleAdLoadedEvents"),em=ef,nm=df,rm=rh(),im=["start","load","initAd","AdLoaded","startAd","AdStarted"],om=Math.random()<.1,sm=document,um=function(){var t=window,e=0;try{for(;e<10&&t.parent!==t&&null!=t.parent.location&&null!=t.parent.location.hostname;)t=t.parent,++e}catch(t){}return t}().location.hostname,am=function(){function t(t){var e,n=this;this[nm]=!0,this[Hv]={start:rm},this[Qv]=0,this[$v]=rm,this[Yv]=[],this[Kv]=!1,this[Xv]=((e={}).promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e),this[Jv]=null,this[Zv]=null,this[tm]=!1;var r=function(e){var n=t[em].guestInfo.mediaFile;return null==n||_a(n)?void 0:n[e]};this.addEventLabel((function(){return qv(t[em].hostInfo.originVastUrl)})),this.addDimension(136,(function(){var e=t[em].contextInfo.uriBlacklistedForFriendlyIframe;return null==e?null:e<<1|t[em].isFlagEnabled(4)})),this.addDimension(137,(function(){var e=t[em].contextInfo,n=e.imaSdkPresent,r=e.hasImaVpaidMediaFiles,i=e.hasNonImaVpaidMediaFiles;return null==n||null==r||null==i?null:(n?"Y":"N")+(r?"Y":"N")+(t[em].isFlagEnabled(2)?"Y":"N")+(i?"Y":"N")})),this.addDimension(140,(function(){return t[em].videoPlaybackContext.toString()})),this.addDimension(138,(function(){var e=t[em].contextInfo.slotProvidedOnInitAd;return null==e?null:e?"1":"0"})),this.addDimension(139,(function(){var e=t[em].contextInfo.videoSlotProvidedOnInitAd;return null==e?null:e?"1":"0"})),this.addDimension(100,(function(){return t[em].hostInfo.viewMode})),this.addDimension(104,(function(){return r("type")})),this.addDimension(103,(function(){return qv(r("uri"))})),this.addDimension(105,(function(){return"vpaid-transformer@0.21.11+js"})),this.addDimension(107,(function(){return sm.readyState})),this.addDimension(171,(function(){return um})),this.addDimension(109,(function(){return qv(t[em].hostInfo.innermostVastUrl)})),this.addDimension(116,(function(){return 0===t[em].hostInfo.vastChainInfo.length?null:t[em].hostInfo.vastChainInfo.map((function(t){return t.join(":")})).join(",")})),this.addMetric(100,(function(){return t.getAdWidth()})),this.addMetric(101,(function(){return t.getAdHeight()})),this.addMetric(104,(function(){return t.getAdVolume()})),this.addMetric(105,(function(){return r("width")})),this.addMetric(106,(function(){return r("height")})),this.addMetric(107,(function(){return r("bitrate")})),this.addMetric(108,(function(){return t[em].hostInfo.desiredBitrate})),this.addMetric(109,(function(){var t=function(){var t=window.navigator&&window.navigator.connection&&window.navigator.connection.downlink;return null!=t?1024*t:1/0}();return isFinite(t)?t:-1})),this.addMetric(110,(function(){return rh()-rm})),this.addMetric(111,(function(){var t=rh(),e=t-n[$v];return n[$v]=t,e})),this.addMetric(112,(function(){return t[em].hostInfo.width})),this.addMetric(113,(function(){return t[em].hostInfo.height})),this.addMetric(167,(function(){return t.getAdDuration()}));for(var i=function(t){var e=180+t,r=im[t],i=im[t+1];n.addMetric(e,(function(){return n._getTimingInfo(r,i)}))},o=0;o<im.length-1;o++)i(o);window.addEventListener("unload",(function(){return n.track("global-unload")})),window.addEventListener("error",(function(t){return n.trackError("global-error",function(t){if(null!=t){var e=t.error;return null!=e?e:{message:t.message,filename:t.filename,lineno:t.lineno,colno:t.colno}}return"[Unknown error]"}(t))}));var s=function(e){return t.subscribe((function(){return n.track(e)}),e)};s(ks.AdStarted),s(ks.AdImpression),s(ks.AdStopped),t.subscribe(this._handleAdLoadedEvent,ks.AdLoaded,this),t.subscribe(this._handleAdErrorEvent,ks.AdError,this);var u=null;try{var a=vl().src,c=zl(a);u=ph(c)}catch(t){}this.track("load",null,u)}var n=t.prototype;return n._handleAdErrorEvent=function(t,e){var n,r=null==e?null:e.code,i=null==r?null:((n={})[10]=r,n);this.trackError(ks.AdError,t,i,null,!0)},n._handleAdLoadedEvent=function(){this.track(ks.AdLoaded,null,null,this[tm]||false)},n.configure=function(t){var e=this,n=t.wrapperId,r=t.customDimensions,i=t.customMetrics,o=t.trackingUri,s=t.trackingHost,u=t.adServingId,a=t.ctx,c=t.cmp,l=t.gdpr,h=t.gdpr_consent,f=t.alwaysTrackVastChains,d=void 0!==f&&f;if(!(this[Kv]||null==n&&null==a)){var p={ctx:a,wrapper:n,cmp:c};this._logIds(p),null!=o?p.baseUrl=o:null!=s&&(p.baseUrl="https://"+s),null!=u&&(p.client=u),Uv().config=p,null!=r&&Object.keys(r).forEach((function(t){t!==116..toString()&&e.addDimension(t,(function(){return r[t]}))})),null!=i&&Object.keys(i).forEach((function(t){e.addMetric(t,(function(){return i[t]}))})),null!=l&&(this.gdprApplies=l),null!=h&&(this.gdprConsent=h),this[tm]=d,this[Kv]=!0,this[Xv].resolve()}},n._logIds=function(t){null!=t.cmp&&t.cmp,t.ctx},n.track=function(t,e,n,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=false);try{if(this._addTiming(t),!r&&(!om||this[Qv]>=100))return;this[Qv]++;var i=t+(r?"":"/10"),o=this._getPixelInfo(e,n);this._pxsrvTrack("vpaid",i,o)}catch(t){}},n.trackError=function(t,e,n,r,i){var o;void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=!1);var s=Jh(e=e||"[Unknown error]"),u=Object.assign({},n,((o={})[110]=s.substring(0,1e3),o));this.track(t,u,r,i)},n.addEventLabel=function(t){this[Yv].push((function(e){e.label=t()}))},n.addDimension=function(t,e){this._addField("customDimensions",t,e)},n.addMetric=function(t,e){this._addField("customMetrics",t,e)},n._addField=function(t,e,n){this[Yv].push((function(r){r[t][""+e]=n()}))},n._addTiming=function(t){null==this[Hv][t]&&(this[Hv][t]=rh())},n._pxsrvTrack=function(t,e,n){var r=this;this[Kv]?Uv().trackEvent(t,e,n):this[Xv].promise.then((function(){n=r._mergeOptions(r._getPixelInfo(null,null),n),Uv().trackEvent(t,e,n)}))},n._mergeOptions=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return{customDimensions:Object.assign.apply(Object,[{}].concat(e.map((function(t){return t.customDimensions})))),customMetrics:Object.assign.apply(Object,[{}].concat(e.map((function(t){return t.customMetrics})))),gdpr:this._findOption("gdpr",e),gdpr_consent:this._findOption("gdpr_consent",e),label:this._findOption("label",e)}},n._findOption=function(t,e){var n=e.find((function(e){return null!=e[t]}));return null!=n?n[t]:null},n._getPixelInfo=function(t,e){var n={customDimensions:{},customMetrics:{},gdpr:this.gdprApplies,gdpr_consent:this.gdprConsent,label:null};return this[Yv].forEach((function(t){try{t(n)}catch(t){}})),Object.assign(n.customDimensions,t),Object.assign(n.customMetrics,e),n},n._getTimingInfo=function(t,e){var n=this[Hv][t],r=this[Hv][e];return null!=n&&n>0&&null!=r&&r>0?r-n:void 0},e(t,[{key:"configured",get:function(){return this[Kv]}},{key:"gdprApplies",get:function(){return this[Jv]},set:function(t){this[Jv]=t}},{key:"gdprConsent",get:function(){return this[Zv]},set:function(t){this[Zv]=t}}]),t}(),cm={width:"100%",height:"100%",pointerEvents:"auto",position:"absolute",top:0,left:0},lm=Symbol("host"),hm=Symbol("guest"),fm=Symbol("config"),dm=Symbol("tracking"),pm=Symbol("hostInfo"),vm=Symbol("guestInfo"),mm=Symbol("contextInfo"),gm=Symbol("container"),ym=Symbol("topContainer"),bm=Symbol("containerSelector"),_m=Symbol("videoPlaybackContext"),wm=Symbol("vastChainInfo"),Am=cf,Sm=af,km=nf,Pm=rf,Em=of,xm=pf,Om={wrapperId:null,duration:null,skipOffset:null,mediaFiles:[],adParameters:null,plugins:[],flags:0},Cm=function(t,e){var n=(t.ownerDocument||document).createElement("div");return n.id=e,Object.assign(n.style,cm),t.appendChild(n),n},jm=function(t){function r(e){var n;return(n=t.call(this)||this)[lm]=e,n[wm]=[],n}n(r,t);var i=r.prototype;return i.addAdParamsVastChainInfo=function(t){var e=this;t.split(",").forEach((function(t){var n=t.split(":");4===n.length&&n.push("0"),e[wm].push(n)}))},i.addVastChainInfo=function(t,e,n,r){var i;try{i=Dl(e)}catch(t){i=""}this[wm].push([t,i,n,r?"1":"0","1"])},e(r,[{key:"publishedEvents",get:function(){return this[lm][Am].published}},{key:"width",get:function(){return this._get("width")}},{key:"height",get:function(){return this._get("height")}},{key:"viewMode",get:function(){return this._get("viewMode")}},{key:"desiredBitrate",get:function(){return this._get("desiredBitrate")}},{key:"environmentVariables",get:function(){return this._get("environmentVariables")}},{key:"slot",get:function(){return this._get("slot")}},{key:"videoSlot",get:function(){return this._get("videoSlot")}},{key:"vastChain",get:function(){return this._get("vastChain")}},{key:"originVastUrl",get:function(){return this._get("originVastUrl")}},{key:"innermostVastUrl",get:function(){return this._get("innermostVastUrl")}},{key:"vastChainInfo",get:function(){return this[wm]}}]),r}(el),Tm=function(t){function r(){return t.apply(this,arguments)||this}return n(r,t),e(r,[{key:"mediaFile",get:function(){return this._get("mediaFile")}}]),r}(el),Im=function(){this.uriBlacklistedForFriendlyIframe=null,this.imaSdkPresent=null,this.hasImaVpaidMediaFiles=null,this.hasNonImaVpaidMediaFiles=null,this.slotProvidedOnInitAd=null,this.videoSlotProvidedOnInitAd=null},Mm=function(){function t(){this.unmutedPlaybackAttempted=!1,this.mutedPlaybackAttempted=!1,this.playbackSuccessful=!1,this.mutedPlaybackDisabled=!1,this.adPaused=!1}return t.prototype.toString=function(){return(this.unmutedPlaybackAttempted?"Y":"N")+(this.mutedPlaybackAttempted?"Y":"N")+(this.playbackSuccessful?"Y":"N")+(this.mutedPlaybackDisabled?"Y":"N")+(this.adPaused?"Y":"N")},t}(),Vm=function(){function t(t){this[lm]=t,this[hm]=null,this[pm]=new jm(t),this[vm]=new Tm,this[mm]=new Im,this[fm]=Object.assign({},Om),this[dm]=new am(t),this[gm]=null,this[bm]=null,this[Em]=nh(this[Em]),this[xm]=null,this[_m]=new Mm}var n=t.prototype;return n.publish=function(t,e,n){return void 0===e&&(e=[]),void 0===n&&(n=null),this[lm]._publish(t,e,n)},n.track=function(){var t;(t=this[dm]).track.apply(t,arguments)},n.trackPixel=function(t,e){return t=function(t,e){return void 0===e&&(e={}),t.replace(dh,(function(t,n){var r=n.toLowerCase();return null!=fh[r]?fh[r](e):null!=e[r]?encodeURIComponent(""+e[r]):""}))}(t,e),new Cv(t).load()},n.trackError=function(){var t;(t=this[dm]).trackError.apply(t,arguments)},n.isFlagEnabled=function(t){return 0!=(this[fm].flags&t)},n[km]=function(t){this[fm]=Object.assign({},Om,this[fm],t),this[dm].configure(this[fm])},n[Pm]=function(t){this[hm]=t},n[Em]=function(){var t=this[pm].slot,e=t.ownerDocument||document,n="vpaid-container-"+ca(),r=n+"-0",i=e.createElement("style");i.textContent="#"+r+", #"+r+" :not(html) { \n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n  background: none;\n  opacity: 1;\n  border: none;\n  outline: none;\n  top: auto;\n  bottom: auto;\n  left: auto;\n  right: auto;\n }",t.appendChild(i);var o=Cm(t,r);this[ym]=o;for(var s=o,u="#"+o.id,a=1;a<5;++a)u+=" #"+(s=Cm(s,n+"-"+a)).id;this[gm]=s,this[bm]=u},e(t,[{key:"host",get:function(){return this[lm]}},{key:"guest",get:function(){return this[hm]}},{key:"hostInfo",get:function(){return this[pm]}},{key:"guestInfo",get:function(){return this[vm]}},{key:"contextInfo",get:function(){return this[mm]}},{key:"videoPlaybackContext",get:function(){return this[_m]}},{key:"config",get:function(){return this[fm]}},{key:"plugins",get:function(){return this[lm][Sm].plugins}},{key:"tracking",get:function(){return this[dm]}},{key:"container",get:function(){return this[gm]}},{key:"topContainer",get:function(){return this[ym]}},{key:"containerSelector",get:function(){return this[bm]}},{key:"adParameters",get:function(){return this[xm]}}]),t}(),Lm=Symbol("guest"),Dm=Symbol("guestVpaidVersion"),Fm=Symbol("guestIframe"),Rm=Symbol("guestSubscriptions"),Um=Symbol("managingSlotSize"),Nm=Symbol("hadError"),zm=Symbol("isLoaded"),Bm=af,Wm=cf,Gm=ef,qm=lf,Hm=ff,Qm=df,$m=function(){function t(t){void 0===t&&(t={}),this[Bm]=new lh,this[Wm]=new Pf,this[Lm]=null,this[Fm]=null,this[Rm]=[],this[Um]=!1,this[Nm]=!1,this[zm]=!1,this[Gm]=new Vm(this),this[Hm]=t}var e=t.prototype;return e.subscribe=function(t,e,n){var r=this;void 0===n&&(n=null),this[Bm].runPhaseSync("subscribe",[t,e,n],(function(){r[Wm].subscribe(t,e,n)}),(function(t){return r._onError(t,"subscribe")}))},e.unsubscribe=function(t,e){var n=this;this[Bm].runPhaseSync("unsubscribe",[t,e],(function(){n[Wm].unsubscribe(t,e)}),(function(t){return n._onError(t,"unsubscribe")}))},e.handshakeVersion=function(t){return this[Dm]=t,"2.0"},e.initAd=function(t,e,n,r,i,o){this[Gm].track("initAd"),this._initAdAsync(t,e,n,r,i,o)},e.resizeAd=function(t,e,n){var r=this,i=this[Gm].hostInfo;try{i._putAll({width:t,height:e,viewMode:n}),this._phasedGuestCall("resizeAd",[t,e,n]).catch((function(t){r._onError(t,"resizeAd")}))}catch(t){this._onError(t,"resizeAd")}},e._createGuest=function(t){return new Promise((function(t,e){return e(new Error("Method is abstract"))}))},e._initAdAsync=function(t,e,n,r,i,o){return new Promise(function(s,u){var a,c,l,h,f,d,p,v,m,g;c=(a=this[Gm]).hostInfo;var y=function(){try{return s()}catch(t){return u(t)}},b=function(t){try{return this._onError(t,"initAd"),y()}catch(t){return u(t)}}.bind(this);try{return c._putAll({width:t,height:e,viewMode:n,desiredBitrate:r,environmentVariables:o}),null==o?a.track("no-envvars"):(l=o.slot,h=o.videoSlot,f=o.sendErrorInfo,c._putAll({slot:l,videoSlot:h}),this[Wm].options.sendErrorInfo=!0===f,null==l?a.contextInfo.slotProvidedOnInitAd=!1:(a.contextInfo.slotProvidedOnInitAd=!0,this[Um]=null!=l.style&&(0===l.clientWidth||0===l.clientHeight),this._maybeResizeSlot(t,e)),a.contextInfo.videoSlotProvidedOnInitAd=null!=h),Promise.resolve(this._createGuest({width:t,height:e,viewMode:n,desiredBitrate:r,creativeData:i,envVars:o})).then(function(i){try{return p=(d=i).iframe,v=d.vpaid,m=d.adParameters,this[Lm]=v,this[Fm]=p,this._guestSubscribeAll(),Promise.resolve(this._phasedGuestCall("handshakeVersion",[this[Dm]],!0)).then(function(i){try{return g={AdParameters:m},Promise.resolve(this._phasedGuestCall("initAd",[t,e,n,r,g,Object.assign({},o,{sendErrorInfo:!0})])).then((function(t){try{return y()}catch(t){return b(t)}}),b)}catch(t){return b(t)}}.bind(this),b)}catch(t){return b(t)}}.bind(this),b)}catch(t){b(t)}}.bind(this))},e._maybeResizeSlot=function(t,e){if(this[Um]){var n=this[Gm].hostInfo.slot;Object.assign(n.style,{width:t+"px",height:e+"px"})}},e._publish=function(t,e,n){switch(void 0===e&&(e=[]),void 0===n&&(n=null),t){case ks.AdError:var r=e[0];if(!this._processErrorAndDecideOnPublish({error:r,method:n}))return Promise.resolve();if("guest"!==n)return this._phasedGuestEvent(t,[Jh(r)]);break;case ks.AdClickThru:if("string"!=typeof e[0])return this._phasedGuestEvent(t,[this[qm]])}return this._phasedGuestEvent(t,e)},e._guestSubscribeAll=function(){for(var t=this,e=Object.keys(ks).map((function(t){return ks[t]})),n=function(n){var r=e[n],i=[function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t._onGuestEvent(r,n)},r];t._guestCall("subscribe",i),t[Rm].push(i)},r=0;r<e.length;++r)n(r)},e._guestUnsubscribeAll=function(){if(null!=this[Lm])for(var t=this[Rm].splice(0),e=0;e<t.length;++e)try{this._guestCall("unsubscribe",t[e])}catch(t){}},e._onGuestEvent=function(t,e){switch(t){case ks.AdLoaded:this._handleAdLoadedGuestEvent(e);break;case ks.AdError:this._handleAdErrorGuestEvent(e);break;case ks.AdMutedUnmutedPlayback:this._handleAdMutedUnmutedPlayback(e);break;default:this._publish(t,e,"guest")}},e._handleAdMutedUnmutedPlayback=function(t){Object.assign(this[Gm].videoPlaybackContext,t[0])},e._handleAdLoadedGuestEvent=function(t){this[zm]=!0,this._publish(ks.AdLoaded,t,"guest")},e._handleAdErrorGuestEvent=function(t){var e,n=t[0],r=t[1];e=this._guestIsInternalVpaid()?r:{message:"VAST error 901 due to AdError event"+(da(n)?" (no AdError message)":": "+n),code:901,cause:null==r?null:r},this._publish(ks.AdError,[e.message,e],"guest")},e._guestIsInternalVpaid=function(){return null!=this[Lm]&&!0===this[Lm][Qm]},e._guestCall=function(t,e){if(null==this[Lm])throw new ll;if(!1===this[zm]&&"initAd"!==t&&"subscribe"!==t&&"unsubscribe"!==t&&"handshakeVersion"!==t)throw new ll;"resizeAd"===t&&this._maybeResizeSlot.apply(this,e);var n=this[Lm][t];if("function"!=typeof n)throw new fl(t);return n.apply(this[Lm],e)},e._phasedGuestCallSync=function(t,e){var n=this;return this[Bm].runPhaseSync(t,e,(function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return n._guestCall(t,r)}),(function(e){return n._onError(e,t,!0)}))},e._phasedGuestCall=function(t,e,n){return new Promise(function(r,i){var o;o=this,void 0===n&&(n=!1);var s=function(){try{return r()}catch(t){return i(t)}},u=function(e){try{return this._onError(e,t,!0),s()}catch(t){return i(t)}}.bind(this);try{return Promise.resolve(this[Bm].runPhase(t,e,(function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var s=o._guestCall(t,r);return n?s:null}),(function(){return o[Nm]}))).then((function(t){try{return s()}catch(t){return u(t)}}),u)}catch(t){u(t)}}.bind(this))},e._phasedGuestEvent=function(t,e){return new Promise(function(n,r){var i;i=this;var o=function(){try{return t===ks.AdStopped&&this._removeGuestIframe(),t===ks.AdError&&this[Hm].destroyAdOnAdError&&(this._unloadVideoSlot(),this._removeGuestIframe(),this._removeAdContainers()),n()}catch(t){return r(t)}}.bind(this),s=function(e){try{return this._onError(e,t),o()}catch(t){return r(t)}}.bind(this);try{return Promise.resolve(this[Bm].runPhase(t,e,(function(){var e=arguments;return new Promise((function(n,r){var o,s,u;if(Ts.indexOf(t)>=0)return Promise.resolve(i._dispose()).then(function(t){try{return a.call(this)}catch(t){return r(t)}}.bind(this),r);function a(){for(o=e.length,s=new Array(o),u=0;u<o;u++)s[u]=e[u];return i[Wm].publish(t,s),n()}return a.call(this)}))}),(function(){return i[Nm]&&Ts.indexOf(t)<0}))).then((function(t){try{return o()}catch(t){return s(t)}}),s)}catch(t){s(t)}}.bind(this))},e._removeGuestIframe=function(){try{this[Fm].parentNode.removeChild(this[Fm])}catch(t){}this[Fm]=null},e._removeAdContainers=function(){try{this[Gm].topContainer.parentNode.removeChild(this[Gm].topContainer)}catch(t){}},e._unloadVideoSlot=function(){try{var t=this[Gm].hostInfo.videoSlot;t.pause(),t.removeAttribute("src"),t.load()}catch(t){}},e._addPlugin=function(t){this[Bm].addPlugin(t)},e._processErrorAndDecideOnPublish=function(t,e){if(null!=t&&"GuestNotAvailableError"===t.name)return!1;var n=!this[Nm];return n&&(this[Nm]=!0,this._guestUnsubscribeAll()),n},e._createErrorMessage=function(t,e,n){return void 0===n&&(n=!1),t instanceof hl?t.toString():n?"VAST error 901 due to error on "+e+(null==t||da(t.message)?" (no error message)":": "+t.message):null==t.message?"Unknown internal error":Jh(t.message).substring(0,1e3)},e._onError=function(t,e,n){if(void 0===n&&(n=!1),this._processErrorAndDecideOnPublish(t,e)){var r=this._createErrorMessage(t,e,n);this._phasedGuestEvent(ks.AdError,[r,{message:r,code:null!=t.code?t.code:"901"}])}},e._dispose=function(){return new Promise(function(t,e){if(this[Hm].autoDisposeDisabled)return t();var n=function(){try{var n=function(){try{return t()}catch(t){return e(t)}},r=function(t){try{return n()}catch(t){return e(t)}};try{return Promise.resolve(new Promise((function(t,e){var n,r;function i(){return Iv.length>0?(n=Iv,Iv=[],Promise.resolve(Promise.all(n)).then((function(t){try{return i}catch(t){return e(t)}}),e)):[1]}return(r=function(t){for(;t;){if(t.then)return void t.then(r,e);try{if(t.pop){if(t.length)return t.pop()?o.call(this):t;t=i}else t=t.call(this)}catch(t){return e(t)}}}.bind(this))(i);function o(){return t()}}))).then((function(t){try{return n()}catch(t){return r()}}),r)}catch(t){r()}}catch(t){return e(t)}},r=function(t){try{return n()}catch(t){return e(t)}};try{return Promise.resolve(this[Bm].dispose()).then((function(t){try{return n()}catch(t){return r()}}),r)}catch(t){r()}}.bind(this))},t}();!function(t){!function(t){for(var e,n=Object.keys(Cs),r=0;r<n.length;r++){var i=n[r],o=Cs[i],s=o.defaultValue,u=o.writable,a=(e=i).charAt(0).toUpperCase()+e.substr(1);Wv(t,"get"+a,s),u&&Gv(t,"set"+a)}}(t),function(t){for(var e=Object.keys(Es).map((function(t){return Es[t]})),n=0;n<e.length;++n){var r=e[n];Gv(t,r)}}(t)}($m.prototype);var Ym,Km,Xm=ef,Jm=nf,Zm=rf,tg=hf,eg=Symbol("loaders"),ng=function(t){function e(e,n){var r;return void 0===n&&(n={}),(r=t.call(this,n)||this)[eg]=e,r._preprocessHashConfig(),r}n(e,t);var r=e.prototype;return r.getAdDuration=function(){return this._getPropertyValueWithConfigFallback("adDuration",this[Xm].config.duration)},r.getAdWidth=function(){return this._getPropertyValueWithConfigFallback("adWidth",this[Xm].hostInfo.width)},r.getAdHeight=function(){return this._getPropertyValueWithConfigFallback("adHeight",this[Xm].hostInfo.height)},r.getAdCompanions=function(){return null!=this[tg]?this[tg]:t.prototype.getAdCompanions.call(this)},r._getPropertyValueWithConfigFallback=function(e,n){var r,i=t.prototype["get"+(r=e,r.charAt(0).toUpperCase()+r.substr(1))].call(this);return i===Cs[e].defaultValue&&null!=n?n:i},r._createGuest=function(t){return new Promise(function(e,n){var r,i,o,s,u;return r=function(t){var e=function(t){return null==t||"string"==typeof t?t:t.AdParameters}(t);try{return JSON.parse(e)}catch(t){throw new Error('Failed to parse AdParameters "'+e+'"')}}(t.creativeData),this._loadConfig(r),this[Xm].tracking.configured?Promise.resolve(this._loadMediaFile(r.mediaFiles,r.adParameters,t)).then(function(t){try{return o=(i=t).iframe,s=i.vpaid,u=i.adParameters,this[Xm][Zm](s),e({iframe:o,vpaid:s,adParameters:u})}catch(t){return n(t)}}.bind(this),n):n(new Error("Invalid configuration"))}.bind(this))},r._loadMediaFile=function(t,e,n){return new Promise(function(r,i){var o,s,u,a,c,l,h,f,d,p,v,m,g,y,b,_,w,A;return o=n.width,s=n.height,u=n.desiredBitrate,a=n.envVars.videoSlot,c=this[Xm].contextInfo,l=Object.keys(this[eg]),f=function(t){var e=t.vpaid;return null==e?0:e.filter((function(t){var e=t.uri;return Gl(e)})).length}(h=function(t,e){return void 0===e&&(e=[pa,ma,va]),t.reduce((function(t,n){var r=Sa(n);return e.indexOf(r)>=0&&(null==t[r]&&(t[r]=[]),t[r].push(n)),t}),{})}(t,l)),c.hasImaVpaidMediaFiles=f>0,c.hasNonImaVpaidMediaFiles=function(t,e){var n=t.vpaid;return null==n?Object.keys(t).length>0:n.length>e||Object.keys(t).length>1}(h,f),c.imaSdkPresent=function(){var t=null;try{t=window.parent.google.ima.VERSION}catch(t){}return"string"==typeof t}()||Bl.test(window.location.href),this[Xm].isFlagEnabled(2)&&(_=(b=c).imaSdkPresent,w=b.hasImaVpaidMediaFiles,A=b.hasNonImaVpaidMediaFiles,_&&w&&A)&&function(t){var e=t.vpaid.filter((function(t){var e=t.uri;return!Gl(e)}));e.length>0?t.vpaid=e:delete t.vpaid}(h),null==(d=function(t,e,n,r,i){return function(t,e,n){for(var r=Object.keys(t).sort(Rh),i=null,o=0;null==i&&o<r.length;){var s=r[o],u=t[s];i=(0,Fh[s])(u,e,n),++o}return i}(t,function(t,e,n){var r=Lh(t*Oh),i=Lh(e*Oh),o=Lh(t),s=Lh(e),u=Lh(n);return[{filter:function(t){var e=t.width,n=t.height,a=t.bitrate;return e>=o&&e<=r&&n>=s&&n<=i&&a<=u},selector:Ih},{filter:function(t){var e=t.width,n=t.height,r=t.bitrate;return e<=o&&n<=s&&r<=u},selector:Mh},{filter:function(t){var e=t.bitrate;return isFinite(u)&&e<=u},selector:Mh},{filter:function(){return!0},selector:Ih}]}(e,n,r),i)}(h,o,s,u,a))?i(new hl("No valid media files found",403)):(this[Xm].guestInfo._put("mediaFile",d),p=Sa(d),null==(v=this[eg][p])?i(new hl("Unsupported media file of type "+p,403)):(m=tf(),this[Xm].tracking.addMetric(116,(function(){return m})),Promise.resolve(v(this,d,e,n)).then(function(t){try{return g=t,y=tf(),this[Xm].tracking.addMetric(117,(function(){return y})),r(g)}catch(t){return i(t)}}.bind(this),i)))}.bind(this))},r._preprocessHashConfig=function(){var t=vl();if(null!=t){var e,n,r=(n=(e=t.src).indexOf("#"))>=0?e.substr(n+1):null;null!=r&&""!==r&&this._loadConfig(decodeURIComponent(r))}},r._loadConfig=function(t){if(null!=t){if(this[Xm][Jm](t),Array.isArray(t.plugins)){var e={id:"vast-chain-tracking",config:{vastChainInfo:null!=t.customDimensions?t.customDimensions[116]:null}};t.plugins.push(e)}this._addPlugins(t.plugins)}},r._addPlugins=function(t){if(!(null==t||this[Xm].plugins.length>0)&&0!==t.length)for(var e={},n=0;n<t.length;++n){var r=t[n],i=r.id,o=r.config,s=void 0,u=i.indexOf(".");if(u<0)s=e[i]=o||{};else{var a=i.substr(0,u);s=Object.assign({},e[a],o)}try{this._createAndAddPlugin(i,s)}catch(t){console.warn('Error creating plugin "'+i+'": '+t)}}},r._createAndAddPlugin=function(t,e){var n=wf.create(t,e,this[Xm]);return this._addPlugin(n),n},e}($m),rg=((Ym={}).vpaid=function(t,e,n,r){return new Promise((function(i,o){var s,u,a,c,l,h,f,d;return s=t[bv].contextInfo,u=e.uri,a=s.uriBlacklistedForFriendlyIframe=function(t){return gv.some((function(e){return e.test(t)}))}(u),c=t[bv].isFlagEnabled(4)||a?"inline":null,Promise.resolve(function(t,e,n){return new Promise((function(r,i){return void 0===n&&(n={}),r(("inline"===n.mode?Ep:xp)(t,e))}))}(u,r.envVars.slot,{mode:c})).then((function(e){try{return h=(l=e).iframe,f=l.vpaid,d=l.time,Promise.resolve(t[yv]._runStage("afterLoadVpaid",[{uri:u,time:d}])).then((function(t){try{return i({iframe:h,vpaid:f,adParameters:n})}catch(t){return o(t)}}),o)}catch(t){return o(t)}}),o)}))},Ym.video=function(t,e,n,r){return new Promise((function(r,i){var o=t[pv].config,s=o.clickThroughUrl,u=o.skipOffset;null==t[vv]&&(t[vv]=s);var a=t[pv].isFlagEnabled(1),c=t[pv].isFlagEnabled(8);return r({vpaid:new dv(e.uri,Object.assign({},t[mv],{skipOffset:u,noMutedAutoplayFallback:a,noPauseOnClickThrough:c})),adParameters:n})}))},Ym);(function(t){for(var e=function(t){for(var e=[],n=t,r=0;r++<10&&null!=n&&n!==Object.prototype;){var i=Object.getOwnPropertyDescriptors(n);e.push.apply(e,Object.keys(i).filter((function(t){return e.indexOf(t)<0}))),n=Object.getPrototypeOf(n)}return e.filter((function(e){return jl.indexOf(e)<0&&"function"==typeof t[e]}))}(t),n=0;n<e.length;++n){var r=e[n];Tl(t,r)}})(ng),Km=new ng(rg,{}),window.getVPAIDAd=function(){return Km}}();
//# sourceMappingURL=vpaid-transformer-no-csw.js.map
